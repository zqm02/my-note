<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>JSON 方法，toJSON | 我的笔记</title>
    <meta name="description" content="A VitePress site">
    <link rel="stylesheet" href="/my-note/assets/style.7f4671e1.css">
    <link rel="modulepreload" href="/my-note/assets/app.ef4c7506.js">
    <link rel="modulepreload" href="/my-note/assets/数据类型_5_12JSON.md.67d945d4.lean.js">
    
    <meta name="keywords" content="我的笔记 一起学习 面试 面试经历 面经 ">
  <meta name="description" content="此文档主要用于记录个人学习笔记">
  <script>(()=>{const e=localStorage.getItem("vitepress-theme-appearance"),a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-6b5fd0a9><!--[--><!--]--><!--[--><span tabindex="-1" data-v-45f6ae50></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-45f6ae50> Skip to content </a><!--]--><!----><header class="VPNav" data-v-6b5fd0a9 data-v-0e356168><div class="VPNavBar has-sidebar" data-v-0e356168 data-v-8856f192><div class="container" data-v-8856f192><div class="VPNavBarTitle has-sidebar" data-v-8856f192 data-v-6a6f7ff6><a class="title" href="/my-note/" data-v-6a6f7ff6><!----><!--[-->我的笔记<!--]--></a></div><div class="content" data-v-8856f192><!----><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-8856f192 data-v-a30758ee><span id="main-nav-aria-label" class="visually-hidden" data-v-a30758ee>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/my-note/JS简介/1_1introduction.html" data-v-a30758ee data-v-8fba5fa8 data-v-5704c677><!--[-->JS简介<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/my-note/JS基础知识/2_1HelloWorld.html" data-v-a30758ee data-v-8fba5fa8 data-v-5704c677><!--[-->JS基础知识<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/my-note/代码质量/3_1debug.html" data-v-a30758ee data-v-8fba5fa8 data-v-5704c677><!--[-->代码质量<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/my-note/Object基础知识/4_1Object.html" data-v-a30758ee data-v-8fba5fa8 data-v-5704c677><!--[-->Object基础知识<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink active" href="/my-note/数据类型/5_1PrimitivetypeMethods.html" data-v-a30758ee data-v-8fba5fa8 data-v-5704c677><!--[-->数据类型<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/my-note/函数进阶内容/6_1recursion.html" data-v-a30758ee data-v-8fba5fa8 data-v-5704c677><!--[-->函数进阶内容<!--]--><!----></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-8856f192 data-v-311055f2><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" data-v-311055f2 data-v-781f9d1b data-v-1dda4c9c><span class="check" data-v-1dda4c9c><span class="icon" data-v-1dda4c9c><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-781f9d1b><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-781f9d1b><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-8856f192 data-v-0562f5c0 data-v-8dccea88><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-8dccea88><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-8dccea88><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-8dccea88><div class="VPMenu" data-v-8dccea88 data-v-e73581a2><!----><!--[--><!--[--><!----><div class="group" data-v-0562f5c0><div class="item appearance" data-v-0562f5c0><p class="label" data-v-0562f5c0>Appearance</p><div class="appearance-action" data-v-0562f5c0><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" data-v-0562f5c0 data-v-781f9d1b data-v-1dda4c9c><span class="check" data-v-1dda4c9c><span class="icon" data-v-1dda4c9c><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-781f9d1b><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-781f9d1b><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><!----><!--]--><!--]--></div></div></div><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-8856f192 data-v-6f008456><span class="container" data-v-6f008456><span class="top" data-v-6f008456></span><span class="middle" data-v-6f008456></span><span class="bottom" data-v-6f008456></span></span></button></div></div></div><!----></header><div class="VPLocalNav" data-v-6b5fd0a9 data-v-92b0f14a><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-92b0f14a><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-92b0f14a><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-92b0f14a>Menu</span></button><a class="top-link" href="#" data-v-92b0f14a> Return to top </a></div><aside class="VPSidebar" data-v-6b5fd0a9 data-v-55e4c7db><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-55e4c7db><span class="visually-hidden" id="sidebar-aria-label" data-v-55e4c7db> Sidebar Navigation </span><!--[--><div class="group" data-v-55e4c7db><section class="VPSidebarGroup collapsible" data-v-55e4c7db data-v-1f69a7ed><div class="title" role="button" data-v-1f69a7ed><h2 class="title-text" data-v-1f69a7ed>JS简介</h2><div class="action" data-v-1f69a7ed><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-1f69a7ed><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-1f69a7ed><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-1f69a7ed><!--[--><a class="VPLink link" href="/my-note/JS%E7%AE%80%E4%BB%8B/1_1introduction.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>1.1JS简介</span><!--]--><!----></a><a class="VPLink link" href="/my-note/JS%E7%AE%80%E4%BB%8B/1_2standard.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>1.2JS手册与规范</span><!--]--><!----></a><a class="VPLink link" href="/my-note/JS%E7%AE%80%E4%BB%8B/1_3code-editor.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>1.3编辑器</span><!--]--><!----></a><a class="VPLink link" href="/my-note/JS%E7%AE%80%E4%BB%8B/1_4console.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>1.4开发者控制台</span><!--]--><!----></a><!--]--></div></section></div><div class="group" data-v-55e4c7db><section class="VPSidebarGroup collapsible" data-v-55e4c7db data-v-1f69a7ed><div class="title" role="button" data-v-1f69a7ed><h2 class="title-text" data-v-1f69a7ed>JS基础知识</h2><div class="action" data-v-1f69a7ed><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-1f69a7ed><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-1f69a7ed><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-1f69a7ed><!--[--><a class="VPLink link" href="/my-note/JS%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/2_1HelloWorld.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>2.1Hello,World!</span><!--]--><!----></a><a class="VPLink link" href="/my-note/JS%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/2_2code-structure.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>2.2代码结构</span><!--]--><!----></a><a class="VPLink link" href="/my-note/JS%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/2_3use-strict.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>2.3现代模式，&#39;use strict&#39;</span><!--]--><!----></a><a class="VPLink link" href="/my-note/JS%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/2_4variate.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>2.4变量</span><!--]--><!----></a><a class="VPLink link" href="/my-note/JS%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/2_5DataType.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>2.5数据类型</span><!--]--><!----></a><a class="VPLink link" href="/my-note/JS%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/2_6interact.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>2.6交互</span><!--]--><!----></a><a class="VPLink link" href="/my-note/JS%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/2_7TypeCast.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>2.7类型转换</span><!--]--><!----></a><a class="VPLink link" href="/my-note/JS%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/2_8BaseOperator.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>2.8基础运算符</span><!--]--><!----></a><a class="VPLink link" href="/my-note/JS%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/2_9ValueComparison.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>2.9值的比较</span><!--]--><!----></a><a class="VPLink link" href="/my-note/JS%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/2_10ConditionalBranch.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>2.10条件分支</span><!--]--><!----></a><a class="VPLink link" href="/my-note/JS%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/2_11LogicalOperator.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>2.11逻辑运算符</span><!--]--><!----></a><a class="VPLink link" href="/my-note/JS%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/2_12NullishCoalescing.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>2.12空值合并运算符</span><!--]--><!----></a><a class="VPLink link" href="/my-note/JS%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/2_13circulation.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>2.13循环</span><!--]--><!----></a><a class="VPLink link" href="/my-note/JS%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/2_14switch.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>2.14switch语句</span><!--]--><!----></a><a class="VPLink link" href="/my-note/JS%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/2_15function.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>2.15函数</span><!--]--><!----></a><a class="VPLink link" href="/my-note/JS%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/2_16FunctionExpression.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>2.16函数表达式</span><!--]--><!----></a><a class="VPLink link" href="/my-note/JS%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/2_17ArrowFunction.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>2.17箭头函数</span><!--]--><!----></a><a class="VPLink link" href="/my-note/JS%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/2_18JSspeciality.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>2.18JavaScript特性</span><!--]--><!----></a><!--]--></div></section></div><div class="group" data-v-55e4c7db><section class="VPSidebarGroup collapsible" data-v-55e4c7db data-v-1f69a7ed><div class="title" role="button" data-v-1f69a7ed><h2 class="title-text" data-v-1f69a7ed>代码质量</h2><div class="action" data-v-1f69a7ed><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-1f69a7ed><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-1f69a7ed><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-1f69a7ed><!--[--><a class="VPLink link" href="/my-note/%E4%BB%A3%E7%A0%81%E8%B4%A8%E9%87%8F/3_1debug.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>3.1在浏览器中调试</span><!--]--><!----></a><a class="VPLink link" href="/my-note/%E4%BB%A3%E7%A0%81%E8%B4%A8%E9%87%8F/3_2CodeStyle.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>3.2代码风格</span><!--]--><!----></a><a class="VPLink link" href="/my-note/%E4%BB%A3%E7%A0%81%E8%B4%A8%E9%87%8F/3_3annotation.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>3.3注释</span><!--]--><!----></a><a class="VPLink link" href="/my-note/%E4%BB%A3%E7%A0%81%E8%B4%A8%E9%87%8F/3_4NinjaCode.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>3.4忍者代码</span><!--]--><!----></a><a class="VPLink link" href="/my-note/%E4%BB%A3%E7%A0%81%E8%B4%A8%E9%87%8F/3_5Mocha.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>3.5使用Mocha自动化测试</span><!--]--><!----></a><a class="VPLink link" href="/my-note/%E4%BB%A3%E7%A0%81%E8%B4%A8%E9%87%8F/3_6Polyfill.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>3.6 Polyfill和转译器</span><!--]--><!----></a><!--]--></div></section></div><div class="group" data-v-55e4c7db><section class="VPSidebarGroup collapsible" data-v-55e4c7db data-v-1f69a7ed><div class="title" role="button" data-v-1f69a7ed><h2 class="title-text" data-v-1f69a7ed>Object基础知识</h2><div class="action" data-v-1f69a7ed><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-1f69a7ed><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-1f69a7ed><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-1f69a7ed><!--[--><a class="VPLink link" href="/my-note/Object%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/4_1Object.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>4.1对象</span><!--]--><!----></a><a class="VPLink link" href="/my-note/Object%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/4_2copy.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>4.2对象引用和复制</span><!--]--><!----></a><a class="VPLink link" href="/my-note/Object%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/4_3recycle.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>4.3垃圾回收</span><!--]--><!----></a><a class="VPLink link" href="/my-note/Object%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/4_4method.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>4.4对象方法,“this”</span><!--]--><!----></a><a class="VPLink link" href="/my-note/Object%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/4_5constructor.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>4.5构造器和操作符</span><!--]--><!----></a><a class="VPLink link" href="/my-note/Object%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/4_6OptionalChain.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>4.6可选链</span><!--]--><!----></a><a class="VPLink link" href="/my-note/Object%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/4_7symbol.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>4.7symbol类型</span><!--]--><!----></a><a class="VPLink link" href="/my-note/Object%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/4_8valueConversion.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>4.8对象--原始值转换</span><!--]--><!----></a><!--]--></div></section></div><div class="group" data-v-55e4c7db><section class="VPSidebarGroup collapsible" data-v-55e4c7db data-v-1f69a7ed><div class="title" role="button" data-v-1f69a7ed><h2 class="title-text" data-v-1f69a7ed>数据类型</h2><div class="action" data-v-1f69a7ed><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-1f69a7ed><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-1f69a7ed><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-1f69a7ed><!--[--><a class="VPLink link" href="/my-note/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/5_1PrimitivetypeMethods.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>5.1原始类型的方法</span><!--]--><!----></a><a class="VPLink link" href="/my-note/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/5_2NumberType.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>5.2数字类型</span><!--]--><!----></a><a class="VPLink link" href="/my-note/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/5_3String.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>5.3字符串</span><!--]--><!----></a><a class="VPLink link" href="/my-note/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/5_4Array.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>5.4数组</span><!--]--><!----></a><a class="VPLink link" href="/my-note/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/5_5ArrayMethod.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>5.5数组方法</span><!--]--><!----></a><a class="VPLink link" href="/my-note/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/5_6IterableObject.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>5.6Iterable object(可迭代对象)</span><!--]--><!----></a><a class="VPLink link" href="/my-note/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/5_7MapSet.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>5.7Map and Set(映射和集合)</span><!--]--><!----></a><a class="VPLink link" href="/my-note/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/5_8WeakMapWeakSet.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>5.8WeakMap and WeakSet</span><!--]--><!----></a><a class="VPLink link" href="/my-note/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/5_9Objectkeys.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>5.9Object.keys,values,entries</span><!--]--><!----></a><a class="VPLink link" href="/my-note/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/5_10Destructuring.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>5.10解构赋值</span><!--]--><!----></a><a class="VPLink link" href="/my-note/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/5_11Date.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>5.11日期和时间</span><!--]--><!----></a><a class="VPLink link active" href="/my-note/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/5_12JSON.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>5.12JSON方法,toJSON</span><!--]--><!----></a><!--]--></div></section></div><div class="group" data-v-55e4c7db><section class="VPSidebarGroup collapsible" data-v-55e4c7db data-v-1f69a7ed><div class="title" role="button" data-v-1f69a7ed><h2 class="title-text" data-v-1f69a7ed>函数进阶内容</h2><div class="action" data-v-1f69a7ed><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-1f69a7ed><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-1f69a7ed><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-1f69a7ed><!--[--><a class="VPLink link" href="/my-note/%E5%87%BD%E6%95%B0%E8%BF%9B%E9%98%B6%E5%86%85%E5%AE%B9/6_1recursion.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>6.1递归和堆栈</span><!--]--><!----></a><a class="VPLink link" href="/my-note/%E5%87%BD%E6%95%B0%E8%BF%9B%E9%98%B6%E5%86%85%E5%AE%B9/6_2Rest.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>6.2Rest参数与Spread语法</span><!--]--><!----></a><a class="VPLink link" href="/my-note/%E5%87%BD%E6%95%B0%E8%BF%9B%E9%98%B6%E5%86%85%E5%AE%B9/6_3closure.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>6.3变量作用域，闭包</span><!--]--><!----></a><a class="VPLink link" href="/my-note/%E5%87%BD%E6%95%B0%E8%BF%9B%E9%98%B6%E5%86%85%E5%AE%B9/6_4var.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>6.4老旧的“var”</span><!--]--><!----></a><a class="VPLink link" href="/my-note/%E5%87%BD%E6%95%B0%E8%BF%9B%E9%98%B6%E5%86%85%E5%AE%B9/6_5globalObject.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>6.5全局对象</span><!--]--><!----></a><a class="VPLink link" href="/my-note/%E5%87%BD%E6%95%B0%E8%BF%9B%E9%98%B6%E5%86%85%E5%AE%B9/6_6FuncObj.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>6.6函数对象,NFE</span><!--]--><!----></a><!--]--></div></section></div><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-6b5fd0a9 data-v-a4c57a06><div class="VPDoc has-sidebar" data-v-a4c57a06 data-v-79ca2460><div class="container" data-v-79ca2460><div class="aside" data-v-79ca2460><div class="aside-curtain" data-v-79ca2460></div><div class="aside-container" data-v-79ca2460><div class="aside-content" data-v-79ca2460><div class="VPDocAside" data-v-79ca2460 data-v-779d834d><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline has-outline" data-v-779d834d data-v-51e5a8ce><div class="content" data-v-51e5a8ce><div class="outline-marker" data-v-51e5a8ce></div><div class="outline-title" data-v-51e5a8ce>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-51e5a8ce><span class="visually-hidden" id="doc-outline-aria-label" data-v-51e5a8ce> Table of Contents for current page </span><ul class="root" data-v-51e5a8ce><!--[--><li style="" data-v-51e5a8ce><a class="outline-link" href="#json-stringify" data-v-51e5a8ce>JSON.stringify</a><!----></li><li style="" data-v-51e5a8ce><a class="outline-link" href="#排除和转换-replacer" data-v-51e5a8ce>排除和转换:replacer</a><!----></li><li style="" data-v-51e5a8ce><a class="outline-link" href="#格式化-space" data-v-51e5a8ce>格式化:space</a><!----></li><li style="" data-v-51e5a8ce><a class="outline-link" href="#自定义-tojson" data-v-51e5a8ce>自定义&quot;toJSON&quot;</a><!----></li><li style="" data-v-51e5a8ce><a class="outline-link" href="#json-parse" data-v-51e5a8ce>JSON.parse</a><!----></li><li style="" data-v-51e5a8ce><a class="outline-link" href="#使用-reviver" data-v-51e5a8ce>使用 reviver</a><!----></li><li style="" data-v-51e5a8ce><a class="outline-link" href="#总结" data-v-51e5a8ce>总结</a><!----></li><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-779d834d></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-79ca2460><div class="content-container" data-v-79ca2460><!--[--><!--]--><main class="main" data-v-79ca2460><div style="position:relative;" class="vp-doc _my-note_%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B_5_12JSON" data-v-79ca2460><div><h1 id="json-方法，tojson" tabindex="-1">JSON 方法，toJSON <a class="header-anchor" href="#json-方法，tojson" aria-hidden="true">#</a></h1><p>假设我们有一个复杂的对象，我们希望将其转换为字符串，以通过网络发送，或者只是为了在日志中输出它。</p><p>当然，这样的字符串应该包含所有重要的属性。</p><p>我们可以像这样实现转换:</p><div class="language-js line-numbers-mode"><span class="copy"></span><pre><code><span class="line"><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">user</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B58451;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;John&quot;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B58451;">age</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">30</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#6C7834;">toString</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">return</span><span style="color:#393A34;"> </span><span style="color:#B56959;">`{name:&quot;</span><span style="color:#8E8F8B;">${</span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#B56959;">name</span><span style="color:#8E8F8B;">}</span><span style="color:#B56959;">&quot;,age:</span><span style="color:#8E8F8B;">${</span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#B56959;">age</span><span style="color:#8E8F8B;">}</span><span style="color:#B56959;">}`</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#8E8F8B;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6C7834;">alert</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">user</span><span style="color:#8E8F8B;">);</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// {name:&quot;John&quot;,age:30}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>......但在开发过程中，会新增一些属性，旧的属性会被重命名和删除。每次更新这种<code>toString</code>都会非常痛苦。我们可以尝试遍历其中的属性，但是如果对象很复杂，并且在属性中嵌套了对象呢？我们也需要对它们进行转换。</p><p>幸运的是，不需要编写代码来处理所有这些问题。这项任务已经解决了。</p><h2 id="json-stringify" tabindex="-1">JSON.stringify <a class="header-anchor" href="#json-stringify" aria-hidden="true">#</a></h2><p><a href="https://en.wikipedia.org/wiki/JSON" target="_blank" rel="noopener noreferrer">JSON</a>(Javascript Object Notation)是表示值和对象的通用格式。在<a href="https://tools.ietf.org/html/rfc4627" target="_blank" rel="noopener noreferrer">RFC4627</a>标准中有对其的描述。最初它是为了 JavaScript 而创建的，但许多其他编程语言也有用于处理它的库。因此，当客户端使用 JavaScript 而服务端是使用 Ruby/PHP/Java 等语言编写的时，使用 JSON 可以很容易地进行数据交换。</p><p>JavaScript 提供了如下方法:</p><ul><li><code>JSON.stringify</code>将对象转换为 JSON。</li><li><code>JSON.parse</code>将 JSON 转换回对象。</li></ul><p>例如，在这里我们<code>JSON.stringify</code>一个<code>student</code>对象:</p><div class="language-js line-numbers-mode"><span class="copy"></span><pre><code><span class="line"><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">student</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B58451;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;John&quot;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B58451;">age</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">30</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B58451;">isAdmin</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">false</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B58451;">courses</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">[</span><span style="color:#B56959;">&quot;html&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;css&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;js&quot;</span><span style="color:#8E8F8B;">],</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B58451;">spouse</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">null</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#8E8F8B;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">json</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">JSON</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">stringify</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">student</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6C7834;">alert</span><span style="color:#8E8F8B;">(</span><span style="color:#AB5959;">typeof</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">json</span><span style="color:#8E8F8B;">);</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// we&#39;ve got a string!</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6C7834;">alert</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">json</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#A0ADA0;">/* JSON编码的对象</span></span>
<span class="line"><span style="color:#A0ADA0;">    {</span></span>
<span class="line"><span style="color:#A0ADA0;">        &quot;name&quot;:&quot;John&quot;,</span></span>
<span class="line"><span style="color:#A0ADA0;">        &quot;age&quot;:30,</span></span>
<span class="line"><span style="color:#A0ADA0;">        &quot;isAdmin&quot;:&quot;false&quot;,</span></span>
<span class="line"><span style="color:#A0ADA0;">        &quot;courses&quot;:[&quot;html&quot;,&quot;css&quot;,&quot;js&quot;],</span></span>
<span class="line"><span style="color:#A0ADA0;">        &quot;spouse&quot;:null</span></span>
<span class="line"><span style="color:#A0ADA0;">    }</span></span>
<span class="line"><span style="color:#A0ADA0;">    */</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p>方法<code>JSON.stringify(student)</code>接收对象并将其转换为字符串。</p><p>得到的<code>json</code>字符串是一个被称为<strong>JSON 编码(JSON-encoded)</strong> 或 <strong>序列化(serialized)</strong> 或 <strong>字符串化(stringified)</strong> 或 <strong>编组化(marshalled)</strong> 的对象。我们已经准备好通过有线发送它或将其放入普通数据存储。</p><p>请注意，JSON 编码的对象与对象字面量有几个重要的区别:</p><ul><li>字符串使用双引号。JSON 中没有单引号或反引号。所以<code>John</code>被转换为<code>&quot;John&quot;</code>。</li><li>对象属性名称也是双引号的。这是强制性的。所以<code>age:30</code>被转换为<code>&quot;age&quot;:30</code>。</li></ul><p><code>JSON.stringify</code>也可以应用于原始(primitive)数据类型。</p><p>JSON 支持以下数据类型:</p><ul><li>Object<code>{....}</code></li><li>Arrays<code>[....]</code></li><li>Primitives: <ul><li>strings,</li><li>numbers,</li><li>boolean values <code>true/false</code>,</li><li><code>null</code>。</li></ul></li></ul><p>例如:</p><div class="language-js line-numbers-mode"><span class="copy"></span><pre><code><span class="line"><span style="color:#A0ADA0;">// 数字在 JSON 还是数字</span></span>
<span class="line"><span style="color:#6C7834;">alert</span><span style="color:#8E8F8B;">(</span><span style="color:#A65E2B;">JSON</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">stringify</span><span style="color:#8E8F8B;">(</span><span style="color:#296AA3;">1</span><span style="color:#8E8F8B;">));</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// 1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0ADA0;">// 字符串在 JSON 中还是字符串，只是被双引号括起来</span></span>
<span class="line"><span style="color:#6C7834;">alert</span><span style="color:#8E8F8B;">(</span><span style="color:#A65E2B;">JSON</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">stringify</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;test&quot;</span><span style="color:#8E8F8B;">));</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// &quot;test&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6C7834;">alert</span><span style="color:#8E8F8B;">(</span><span style="color:#A65E2B;">JSON</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">string</span><span style="color:#8E8F8B;">(</span><span style="color:#1C6B48;">true</span><span style="color:#8E8F8B;">));</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// true</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6C7834;">alert</span><span style="color:#8E8F8B;">(</span><span style="color:#A65E2B;">JSON</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">stringify</span><span style="color:#8E8F8B;">([</span><span style="color:#296AA3;">1</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">2</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">3</span><span style="color:#8E8F8B;">]));</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">//  [1,2,3]</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>JSON 是语言无关的数据规范，因此一些特定于 JavaScript 的对象属性会被<code>JSON.stringify</code>跳过。</p><p>即:</p><ul><li>函数属性（方法）。</li><li>Symbol 类型的键和值。</li><li>存储<code>undefined</code>的属性。</li></ul><div class="language-js line-numbers-mode"><span class="copy"></span><pre><code><span class="line"><span style="color:#393A34;">    </span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">user</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#6C7834;">sayHi</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// 被忽略</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#6C7834;">alert</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;Hello&quot;</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8E8F8B;">[</span><span style="color:#B58451;">Symbol</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;id&quot;</span><span style="color:#8E8F8B;">)]</span><span style="color:#B58451;">;  123,  </span><span style="color:#A0ADA0;">// 被忽略</span></span>
<span class="line"><span style="color:#B58451;">        something；undefined   </span><span style="color:#A0ADA0;">// 被忽略</span></span>
<span class="line"><span style="color:#B58451;">    };</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B58451;">    alert(JSON.stringify(user));    {} （空对象）</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>通常这很好。如果这不是我们想要的方式，那么我们很快就会看到如何定义转换方式。</p><p>最棒的是支持嵌套对象转换，并且可以自动对其进行转换。</p><p>例如:</p><div class="language-js line-numbers-mode"><span class="copy"></span><pre><code><span class="line"><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">meetup</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B58451;">title</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;Conference&quot;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B58451;">room</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B58451;">number</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">23</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B58451;">participants</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">[</span><span style="color:#B56959;">&quot;john&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;ann&quot;</span><span style="color:#8E8F8B;">],</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#8E8F8B;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6C7834;">alert</span><span style="color:#8E8F8B;">(</span><span style="color:#A65E2B;">JSON</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">stringify</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">meetup</span><span style="color:#8E8F8B;">));</span></span>
<span class="line"><span style="color:#A0ADA0;">/*整个结构都被字符串化了</span></span>
<span class="line"><span style="color:#A0ADA0;">    {</span></span>
<span class="line"><span style="color:#A0ADA0;">        &quot;title&quot;:&quot;Conference&quot;,</span></span>
<span class="line"><span style="color:#A0ADA0;">        &quot;room&quot;:{&quot;number&quot;:23,&quot;participants&quot;:[&quot;john&quot;,&quot;ann&quot;]},</span></span>
<span class="line"><span style="color:#A0ADA0;">    }</span></span>
<span class="line"><span style="color:#A0ADA0;">    */</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>重要的限制：不得有循环引用。</p><p>例如:</p><div class="language-js line-numbers-mode"><span class="copy"></span><pre><code><span class="line"><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">room</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B58451;">number</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">23</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#8E8F8B;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">meetup</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B58451;">title</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;Conference&quot;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B58451;">participants</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">[</span><span style="color:#B56959;">&quot;john&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;ann&quot;</span><span style="color:#8E8F8B;">],</span></span>
<span class="line"><span style="color:#8E8F8B;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8C862B;">meetup</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">place</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">room</span><span style="color:#8E8F8B;">;</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// meetup 引用了 room</span></span>
<span class="line"><span style="color:#8C862B;">room</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">occupiedBy</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">meetup</span><span style="color:#8E8F8B;">;</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// room 引用了 meetup</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A65E2B;">JSON</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">stringify</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">meetup</span><span style="color:#8E8F8B;">);</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// Error: Converting circular structure to JSON</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>在这里，转换失败了，因为循环引用:<code>room.occupiedBy</code>引用了<code>meetup</code> , <code>meetup.place</code>引用了<code>room</code>: <img src="/my-note/assets/JSON.2c538e65.png" alt="图片"></p><h2 id="排除和转换-replacer" tabindex="-1">排除和转换:replacer <a class="header-anchor" href="#排除和转换-replacer" aria-hidden="true">#</a></h2><p><code>JSON.stringify</code>的完整语法是:</p><div class="language-js line-numbers-mode"><span class="copy"></span><pre><code><span class="line"><span style="color:#393A34;">    </span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">json</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">JSON</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">stringify</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">value</span><span style="color:#8E8F8B;">[,</span><span style="color:#8C862B;">replace</span><span style="color:#8E8F8B;">,</span><span style="color:#8C862B;">space</span><span style="color:#8E8F8B;">])</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>value</strong> 要编码的值。</p><p><strong>replacer</strong> 要编码的属性数组或映射函数<code>function(key,value)</code>。</p><p><strong>space</strong> 用于格式化的空格数量。</p><p>大部分情况，<code>JSON.stringify</code>仅与第一个参数一起使用。但是，如果我们需要微调替换过程，比如过滤掉循环引用，我们可以使用<code>JSON.stringify</code>的第二个参数。</p><p>如果我们传递一个属性数组给它，那么只有这些属性会被编码。</p><p>例如:</p><div class="language-js line-numbers-mode"><span class="copy"></span><pre><code><span class="line"><span style="color:#393A34;">    </span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">room</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B58451;">number</span><span style="color:#8E8F8B;">:</span><span style="color:#296AA3;">23</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">meetup</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B58451;">title</span><span style="color:#8E8F8B;">:</span><span style="color:#B56959;">&quot;conference&quot;</span><span style="color:#393A34;">，</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8C862B;">participants</span><span style="color:#393A34;">:</span><span style="color:#8E8F8B;">[{</span><span style="color:#B58451;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#B56959;">&quot;John&quot;</span><span style="color:#8E8F8B;">},{</span><span style="color:#B58451;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#B56959;">&quot;Alice&quot;</span><span style="color:#8E8F8B;">}],</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B58451;">place</span><span style="color:#8E8F8B;">:</span><span style="color:#8C862B;">room</span><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// meetup 引用了 room</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">room</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">occupiedBy</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">meetup</span><span style="color:#8E8F8B;">;</span><span style="color:#393A34;">   </span><span style="color:#A0ADA0;">// room 引用了 meeetup</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#6C7834;">alert</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">JSON</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">stringify</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">meetup</span><span style="color:#8E8F8B;">,[</span><span style="color:#B56959;">&#39;title&#39;</span><span style="color:#8E8F8B;">,</span><span style="color:#B56959;">&#39;participants&#39;</span><span style="color:#8E8F8B;">]));</span></span>
<span class="line"><span style="color:#8E8F8B;">    </span><span style="color:#A0ADA0;">// {&quot;title&quot;:&quot;Conference&quot;,&quot;participants&quot;:[{},{}]}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>这里我们可能过于严格了。属性列表应用于整个对象结构。所以<code>participants</code>是空的，因为<code>name</code>不在列表中。</p><p>让我们包含除了会导致循环引用的<code>room.occupiedBy</code>之外的所有属性:</p><div class="language-js line-numbers-mode"><span class="copy"></span><pre><code><span class="line"><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">room</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B58451;">number</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">23</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#8E8F8B;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">meetup</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B58451;">title</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;Conference&quot;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B58451;">participants</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">[{</span><span style="color:#393A34;"> </span><span style="color:#B58451;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;John&quot;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">},</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span><span style="color:#393A34;"> </span><span style="color:#B58451;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;Alice&quot;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">}],</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B58451;">place</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">room</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// meetup 引用了 room</span></span>
<span class="line"><span style="color:#8E8F8B;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6C7834;">alert</span><span style="color:#8E8F8B;">(</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#A65E2B;">JSON</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">stringify</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">meetup</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">[</span><span style="color:#B56959;">&quot;title&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;participants&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;place&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;name&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;number&quot;</span><span style="color:#8E8F8B;">])</span></span>
<span class="line"><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#A0ADA0;">/*</span></span>
<span class="line"><span style="color:#A0ADA0;">    &quot;title&quot;:&quot;Conference&quot;,</span></span>
<span class="line"><span style="color:#A0ADA0;">    &quot;participants&quot;:[{name:&quot;John&quot;},{name:&quot;Alice&quot;}],</span></span>
<span class="line"><span style="color:#A0ADA0;">    &quot;place&quot;:{&quot;number&quot;:23}</span></span>
<span class="line"><span style="color:#A0ADA0;">    */</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>现在，除<code>occupiedBy</code>以外的所有内容都被序列化了。但是属性的列表太长了。</p><p>幸运的是，我们可以使用一个函数代替数组作为<code>replacer</code>。</p><p>该函数会为每个<code>(key,value)</code>对调用并返回“已替换”的值，该值将替换原有的值。如果值被跳过了，则为<code>undefined</code>。</p><p>在我们的例子中，我们可以为<code>occupiedBy</code>以外的所有内容按原样返回<code>value</code>。为了<code>occupiedBy</code>，下面的代码返回<code>undefined</code>:</p><div class="language-js line-numbers-mode"><span class="copy"></span><pre><code><span class="line"><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">room</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B58451;">number</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">23</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#8E8F8B;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">meetup</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B58451;">title</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;conference&quot;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B58451;">participants</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">[{</span><span style="color:#393A34;"> </span><span style="color:#B58451;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;John&quot;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">},</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span><span style="color:#393A34;"> </span><span style="color:#B58451;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;Alice&quot;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">}],</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B58451;">place</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">room</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// meetup 引用了 room</span></span>
<span class="line"><span style="color:#8E8F8B;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8C862B;">room</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">occupiedBy</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">meetup</span><span style="color:#8E8F8B;">;</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// room 引用了meetup</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6C7834;">alert</span><span style="color:#8E8F8B;">(</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#A65E2B;">JSON</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">stringify</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">meetup</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">function</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">replacer</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">key</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">value</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#6C7834;">alert</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">`</span><span style="color:#8E8F8B;">${</span><span style="color:#B56959;">key</span><span style="color:#8E8F8B;">}</span><span style="color:#B56959;">:</span><span style="color:#8E8F8B;">${</span><span style="color:#B56959;">value</span><span style="color:#8E8F8B;">}</span><span style="color:#B56959;">`</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">return</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">key</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">==</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;occupiedBy&quot;</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">?</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">undefined</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">value</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">})</span></span>
<span class="line"><span style="color:#8E8F8B;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0ADA0;">/*</span></span>
<span class="line"><span style="color:#A0ADA0;">        key:value pairs that come to replacer :</span></span>
<span class="line"><span style="color:#A0ADA0;">        :       [object Object]</span></span>
<span class="line"><span style="color:#A0ADA0;">        title:  Conference</span></span>
<span class="line"><span style="color:#A0ADA0;">        participants: [object Object],[object Object]</span></span>
<span class="line"><span style="color:#A0ADA0;">        0:      [object Object]</span></span>
<span class="line"><span style="color:#A0ADA0;">        name:   John</span></span>
<span class="line"><span style="color:#A0ADA0;">        1:      [object Object]</span></span>
<span class="line"><span style="color:#A0ADA0;">        name:   Alice</span></span>
<span class="line"><span style="color:#A0ADA0;">        place:  [object Object]</span></span>
<span class="line"><span style="color:#A0ADA0;">        number: 23</span></span>
<span class="line"><span style="color:#A0ADA0;">        occupiedBy: [object Object]</span></span>
<span class="line"><span style="color:#A0ADA0;">    */</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><p>请注意<code>replacer</code>函数会获取每个键/值对，包括嵌套对象和数组项。它被递归地引用。<code>replacer</code>中的<code>this</code>的值是包含当前属性的对象。</p><p>第一个调用很特别。它是使用特殊的“包装对象”制作的:<code>{&quot;&quot;:meetup}</code>。换句话说，第一个<code>{key,value}</code>对的键是空的，并且该值是整个目标对象。这就是上面的示例中第一行是<code>&quot;:[object Object]&quot;</code>的原因。</p><p>这个理念是为了给<code>replacer</code>提供尽可能多的功能:如果有必要，它有机会分析替换/跳过整个对象。</p><h2 id="格式化-space" tabindex="-1">格式化:space <a class="header-anchor" href="#格式化-space" aria-hidden="true">#</a></h2><p><code>JSON.stringify(value,replacer,spaces)</code>的第三个参数是用于优化格式的空格数量。</p><p>以前，所有字符串化的对象都没有缩进和额外的空格。如果我们想通过网络发送一个对象，那就没什么问题。<code>space</code>参数专门用于调整出更美观的输出。</p><p>这里的<code>space = 2</code>告诉 JavaScript 在多行中显示嵌套的对象，对象内部缩进 2 个空格:</p><div class="language-js line-numbers-mode"><span class="copy"></span><pre><code><span class="line"><span style="color:#393A34;">    </span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">user</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B58451;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#B56959;">&quot;John&quot;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B58451;">age</span><span style="color:#8E8F8B;">:</span><span style="color:#296AA3;">25</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8C862B;">roles</span><span style="color:#393A34;">:</span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#B58451;">isAdmin</span><span style="color:#8E8F8B;">:</span><span style="color:#1C6B48;">false</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#B58451;">isEditor</span><span style="color:#8E8F8B;">:</span><span style="color:#1C6B48;">true</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#6C7834;">alert</span><span style="color:#8E8F8B;">(</span><span style="color:#A65E2B;">JSON</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">stringify</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">user</span><span style="color:#8E8F8B;">,</span><span style="color:#A65E2B;">null</span><span style="color:#8E8F8B;">,</span><span style="color:#296AA3;">2</span><span style="color:#8E8F8B;">));</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">/*两个空格的缩进:</span></span>
<span class="line"><span style="color:#A0ADA0;">    {</span></span>
<span class="line"><span style="color:#A0ADA0;">        &quot;name&quot;:&quot;John&quot;,</span></span>
<span class="line"><span style="color:#A0ADA0;">        &quot;age&quot;:25,</span></span>
<span class="line"><span style="color:#A0ADA0;">        &quot;roles&quot;:{</span></span>
<span class="line"><span style="color:#A0ADA0;">            &quot;isAdmin&quot;:false,</span></span>
<span class="line"><span style="color:#A0ADA0;">            &quot;isEditor&quot;:true</span></span>
<span class="line"><span style="color:#A0ADA0;">        }</span></span>
<span class="line"><span style="color:#A0ADA0;">    }</span></span>
<span class="line"><span style="color:#A0ADA0;">    */</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">   </span><span style="color:#A0ADA0;">/* 对于 JSON.stringify(user, null, 4) 的结果会有更多缩进:</span></span>
<span class="line"><span style="color:#A0ADA0;">   {</span></span>
<span class="line"><span style="color:#A0ADA0;">    &quot;name&quot;:&quot;John&quot;,</span></span>
<span class="line"><span style="color:#A0ADA0;">    &quot;age&quot;:25,</span></span>
<span class="line"><span style="color:#A0ADA0;">    &quot;roles&quot;:{</span></span>
<span class="line"><span style="color:#A0ADA0;">        &quot;isAdmin&quot;:false,</span></span>
<span class="line"><span style="color:#A0ADA0;">        &quot;isEditor&quot;:true</span></span>
<span class="line"><span style="color:#A0ADA0;">    }</span></span>
<span class="line"><span style="color:#A0ADA0;">   }</span></span>
<span class="line"><span style="color:#A0ADA0;">   */</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><p>第三个参数也可以是字符串。在这种情况下，字符串用于缩进，而不是空格的数量。</p><p><code>space</code>参数仅用于自己日志记录和美化输出。</p><h2 id="自定义-tojson" tabindex="-1">自定义&quot;toJSON&quot; <a class="header-anchor" href="#自定义-tojson" aria-hidden="true">#</a></h2><p>像<code>toString</code>进行字符串转换，对象也可以提供<code>toJSON</code>方法来进行 JSON 转换。如果可用，<code>JSON.stringify</code>会自动调用它。</p><p>例如:</p><div class="language-js line-numbers-mode"><span class="copy"></span><pre><code><span class="line"><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">room</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B58451;">number</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">23</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#8E8F8B;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">meetup</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B58451;">title</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;Conference&quot;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#B58451;">date</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">new</span><span style="color:#393A34;"> </span><span style="color:#B58451;">Date</span><span style="color:#8E8F8B;">(</span><span style="color:#B58451;">Date</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">UTC</span><span style="color:#8E8F8B;">(</span><span style="color:#296AA3;">2017</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">0</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">1</span><span style="color:#8E8F8B;">)),</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8C862B;">room</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#8E8F8B;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6C7834;">alert</span><span style="color:#8E8F8B;">(</span><span style="color:#A65E2B;">JSON</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">stringify</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">meetup</span><span style="color:#8E8F8B;">));</span></span>
<span class="line"><span style="color:#A0ADA0;">/*</span></span>
<span class="line"><span style="color:#A0ADA0;">    {</span></span>
<span class="line"><span style="color:#A0ADA0;">        &quot;title&quot;:&quot;Conference&quot;,</span></span>
<span class="line"><span style="color:#A0ADA0;">        &quot;date&quot;:&quot;2017-01-01T00:00:00.000Z&quot;,  // (1)</span></span>
<span class="line"><span style="color:#A0ADA0;">        &quot;room&quot;:{&quot;number&quot;:23}</span></span>
<span class="line"><span style="color:#A0ADA0;">    }</span></span>
<span class="line"><span style="color:#A0ADA0;">    */</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>在这我们可以看到<code>date(1)</code>变成了一个字符串。这是因为所有日期都有一个内建的<code>toJSON</code>方法来返回这种类型的字符串。</p><p>现在让我们为对象<code>room</code>添加一个自定义的<code>toJSON</code>:</p><div class="language-js line-numbers-mode"><span class="copy"></span><pre><code><span class="line"><span style="color:#393A34;">    </span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">room</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8C862B;">number</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">23</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#6C7834;">toJSON</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#1C6B48;">return</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">this</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">number</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">meetup</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B58451;">title</span><span style="color:#8E8F8B;">:</span><span style="color:#B56959;">&quot;Conference&quot;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8C862B;">room</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#6C7834;">alert</span><span style="color:#8E8F8B;">(</span><span style="color:#A65E2B;">JSON</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">stringify</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">room</span><span style="color:#8E8F8B;">));</span><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// 23</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#6C7834;">alert</span><span style="color:#8E8F8B;">(</span><span style="color:#A65E2B;">JSON</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">stringify</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">meetup</span><span style="color:#8E8F8B;">));</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">/*</span></span>
<span class="line"><span style="color:#A0ADA0;">    {</span></span>
<span class="line"><span style="color:#A0ADA0;">        &quot;title&quot;:&quot;Conference&quot;,</span></span>
<span class="line"><span style="color:#A0ADA0;">        &quot;room&quot;:23</span></span>
<span class="line"><span style="color:#A0ADA0;">    }</span></span>
<span class="line"><span style="color:#A0ADA0;">    */</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p>正如我们所看到的，<code>toJSON</code>既可以用于直接调用<code>JSON.stringify(room)</code>也可以用于当<code>room</code>嵌套在另一个编码对象中。</p><h2 id="json-parse" tabindex="-1">JSON.parse <a class="header-anchor" href="#json-parse" aria-hidden="true">#</a></h2><p>要解码 JSON 字符串，我们需要另一个方法<a href="https://developer.mozilla.org/zh/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse" target="_blank" rel="noopener noreferrer">JSON.parse</a>。</p><p>语法:</p><div class="language-js line-numbers-mode"><span class="copy"></span><pre><code><span class="line"><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">value</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">JSON</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">parse</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">str</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">[</span><span style="color:#8C862B;">reviver</span><span style="color:#8E8F8B;">]);</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>str</strong> 要解析的 JSON 字符串</p><p><strong>reviver</strong> 可选的函数(function(key,value)),该函数将为每个<code>(key,value)</code>对调用，并可以对值进行转换。</p><p>例如:</p><div class="language-js line-numbers-mode"><span class="copy"></span><pre><code><span class="line"><span style="color:#A0ADA0;">// 字符串化数组</span></span>
<span class="line"><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">numbers</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;[0,1,2,3]&quot;</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8C862B;">numbers</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">JSON</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">parse</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">numbers</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6C7834;">alert</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">numbers</span><span style="color:#8E8F8B;">[</span><span style="color:#296AA3;">1</span><span style="color:#8E8F8B;">]);</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// 1</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>对于嵌套对象:</p><div class="language-js line-numbers-mode"><span class="copy"></span><pre><code><span class="line"><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">userData</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&#39;{&quot;name&quot;:&quot;John&quot;,&quot;age&quot;:35, &quot;isAdmin&quot;:false,&quot;friends&quot;:[0,1,2,3]}&#39;</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">user</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">JSON</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">parse</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">userData</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6C7834;">alert</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">user</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">friends</span><span style="color:#8E8F8B;">[</span><span style="color:#296AA3;">1</span><span style="color:#8E8F8B;">]);</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// 1</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>JSON 可能会非常复杂，对象和数组可以包含其他对象和数组。但是它们必须遵循相同的 JSON 格式。</p><p>以下是手写 JSON 时的典型错误（有时我们必须出于调试目的编写它）:</p><div class="language-js line-numbers-mode"><span class="copy"></span><pre><code><span class="line"><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">json</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#B56959;">`{</span></span>
<span class="line"><span style="color:#B56959;">        name:&quot;John&quot;,        // 错误：属性名没有双引号</span></span>
<span class="line"><span style="color:#B56959;">        &quot;surname&quot;:&#39;Smith&#39;,  // 错误：值使用的是单引号（必须使用双引号）</span></span>
<span class="line"><span style="color:#B56959;">        &#39;isAdmin&#39;:false     // 错去：键使用的是单引号（必须使用双引号）</span></span>
<span class="line"><span style="color:#B56959;">        &quot;birthday&quot;:new Date(2000,2,3),  //错误：不允许使用&quot;new&quot;,只能是裸值</span></span>
<span class="line"><span style="color:#B56959;">        &quot;friends&quot;:[0,1,2,3]         // 这个没有问题</span></span>
<span class="line"><span style="color:#B56959;">    }`</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>此外，JSON 不支持注释。向 JSON 添加注释无效。</p><p>还有另一种名为<a href="http://json5.org/" target="_blank" rel="noopener noreferrer">JSON5</a>的格式。它允许未加引号的键，也允许注释等。但这是一个独立的库，不在语言的规范中。</p><p>常规的 JSON 格式严格，并不是因为它的开发者很懒，而是为了实现简单，可靠且快速实现解析算法。</p><h2 id="使用-reviver" tabindex="-1">使用 reviver <a class="header-anchor" href="#使用-reviver" aria-hidden="true">#</a></h2><p>想象一下，我们从服务器上获得了一个字符串化的<code>meetup</code>对象。</p><p>它看起来像这样:</p><div class="language-js line-numbers-mode"><span class="copy"></span><pre><code><span class="line"><span style="color:#A0ADA0;">// title:(meetup title),date:(meetup date)</span></span>
<span class="line"><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">str</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&#39;{&quot;title&quot;:&quot;Conference&quot;,&quot;date&quot;:&quot;2017-11-30T12:00:00.000Z&quot;}&#39;</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>....现在我们需要对它进行<strong>反序列（deserialize）</strong>，把它转换回 JavaScript 对象。</p><p>让我们通过调用<code>JSON.parse</code>来完成:</p><div class="language-js line-numbers-mode"><span class="copy"></span><pre><code><span class="line"><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">str</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&#39;{&quot;title&quot;:&quot;Conference&quot;,&quot;date&quot;:&quot;2017-11-30T12:00:00.000Z&quot;}&#39;</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">meetup</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">JSON</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">parse</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">str</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0ADA0;">//alert(meetup.date.getDate()); // Error!</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>报错！ <code>meetup.date</code>的值是一个字符串，而不是<code>Date</code>对象。 <code>JSON.parse</code>怎么知道应该将字符串转换为<code>Date</code>呢？</p><p>让我们将 reviver 函数传递给<code>JSON.parse</code>作为第二个参数，该函数按照“原样”返回所有值，但是<code>date</code>会变成<code>Date</code>:</p><div class="language-js line-numbers-mode"><span class="copy"></span><pre><code><span class="line"><span style="color:#393A34;">   </span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">str</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&#39;{&quot;title&quot;:&quot;Conference&quot;,&quot;date&quot;:&quot;2017-11-30T12:00:00.000Z&quot;}&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">   </span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">meetup</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">JSON</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">parse</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">str</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">function</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">key</span><span style="color:#8E8F8B;">,</span><span style="color:#8C862B;">value</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#6C7834;">if</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">key</span><span style="color:#393A34;"> == </span><span style="color:#B56959;">&#39;date&#39;</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> return new </span><span style="color:#6C7834;">Date</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">value</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#393A34;">    return value;</span></span>
<span class="line"><span style="color:#393A34;">   </span><span style="color:#8E8F8B;">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">   </span><span style="color:#6C7834;">alert</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">meetup</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">date</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">getDate</span><span style="color:#8E8F8B;">());</span><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// 现在正常运行了！</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>顺便说一下，这也适用于嵌套对象:</p><div class="language-js line-numbers-mode"><span class="copy"></span><pre><code><span class="line"><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">schedult</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#B56959;">`{</span></span>
<span class="line"><span style="color:#B56959;">        &quot;meetups&quot;:[</span></span>
<span class="line"><span style="color:#B56959;">            {&quot;title&quot;:&quot;Conference&quot;,&quot;date&quot;:&quot;2017-11-30T12:00:00.000Z&quot;},</span></span>
<span class="line"><span style="color:#B56959;">            {&quot;title&quot;:&quot;Birthday&quot;,&quot;date&quot;:&quot;2017-04-18T12:00:00.000Z&quot;}</span></span>
<span class="line"><span style="color:#B56959;">        ]</span></span>
<span class="line"><span style="color:#B56959;">    }`</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8C862B;">schedult</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">JSON</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">parse</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">schedule</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">function</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">key</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">value</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">key</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">==</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;date&quot;</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">return</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">new</span><span style="color:#393A34;"> </span><span style="color:#B58451;">Date</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">value</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#1C6B48;">return</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">value</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#8E8F8B;">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6C7834;">alert</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">schedule</span><span style="color:#8E8F8B;">.</span><span style="color:#8C862B;">meetup</span><span style="color:#8E8F8B;">[</span><span style="color:#296AA3;">1</span><span style="color:#8E8F8B;">].</span><span style="color:#8C862B;">date</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">getDate</span><span style="color:#8E8F8B;">());</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// 正常运行了！</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="总结" tabindex="-1">总结 <a class="header-anchor" href="#总结" aria-hidden="true">#</a></h2><ul><li>JSON 是一种数据格式，具有自己的独立标准和大多数编程语言的库。</li><li>JSON 支持 object,array,string,number,boolean 和<code>null</code></li><li>JavaScript 提供序列化(serialize)成 JSON 方法<a href="https://developer.mozilla.org/zh/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify" target="_blank" rel="noopener noreferrer">JSON.stringify</a>和解析 JSON 的方法<a href="https://developer.mozilla.org/zh/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse" target="_blank" rel="noopener noreferrer">JSON.parse</a></li><li>这两种方法都支持用于智能读/写的转换函数。</li><li>如果一个对象具有<code>toJSON</code>，那么它会被<code>JSON.stringify</code>调用。</li></ul></div></div></main><footer class="VPDocFooter" data-v-79ca2460 data-v-04568844><div class="edit-info" data-v-04568844><!----><!----></div><div class="prev-next" data-v-04568844><div class="pager" data-v-04568844><a class="pager-link prev" href="/my-note/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/5_11Date.html" data-v-04568844><span class="desc" data-v-04568844>Previous page</span><span class="title" data-v-04568844>5.11日期和时间</span></a></div><div class="has-prev pager" data-v-04568844><a class="pager-link next" href="/my-note/%E5%87%BD%E6%95%B0%E8%BF%9B%E9%98%B6%E5%86%85%E5%AE%B9/6_1recursion.html" data-v-04568844><span class="desc" data-v-04568844>Next page</span><span class="title" data-v-04568844>6.1递归和堆栈</span></a></div></div></footer><!--[--><!--]--></div></div></div></div></div><footer class="VPFooter has-sidebar" data-v-6b5fd0a9 data-v-5b331722><div class="container" data-v-5b331722><p class="message" data-v-5b331722>Released under the MIT License.</p><p class="copyright" data-v-5b331722>Copyright © 2022-present zqm &amp; my-note Contributors</p></div></footer><!--[--><!--]--></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"js基础知识_2_10conditionalbranch.md\":\"89a99e66\",\"js基础知识_2_11logicaloperator.md\":\"1c3e0052\",\"js基础知识_2_12nullishcoalescing.md\":\"6651df5f\",\"js基础知识_2_13circulation.md\":\"5493a743\",\"js基础知识_2_14switch.md\":\"63f5b1bd\",\"js基础知识_2_15function.md\":\"3673957b\",\"js基础知识_2_16functionexpression.md\":\"41c9ca6f\",\"js基础知识_2_17arrowfunction.md\":\"7ad3ffc9\",\"js基础知识_2_18jsspeciality.md\":\"8e1a6f64\",\"js基础知识_2_1helloworld.md\":\"d90a77d2\",\"js基础知识_2_2code-structure.md\":\"9268a80e\",\"js基础知识_2_3use-strict.md\":\"b8c5728a\",\"js基础知识_2_4variate.md\":\"8f45c54d\",\"js基础知识_2_5datatype.md\":\"6998e6df\",\"js基础知识_2_6interact.md\":\"a65d35cd\",\"js基础知识_2_7typecast.md\":\"b2274695\",\"js基础知识_2_8baseoperator.md\":\"725d82d4\",\"js基础知识_2_9valuecomparison.md\":\"d40a9aa9\",\"js简介_1_1introduction.md\":\"fab24977\",\"js简介_1_2standard.md\":\"be774a4d\",\"js简介_1_3code-editor.md\":\"cbe6acc0\",\"js简介_1_4console.md\":\"f02033e5\",\"object基础知识_4_1object.md\":\"4dcfb3aa\",\"object基础知识_4_2copy.md\":\"69a7b68f\",\"object基础知识_4_3recycle.md\":\"6f18724a\",\"object基础知识_4_4method.md\":\"f1a1b716\",\"object基础知识_4_5constructor.md\":\"6e8ba586\",\"object基础知识_4_6optionalchain.md\":\"d5fa6c5a\",\"object基础知识_4_7symbol.md\":\"b6d41544\",\"object基础知识_4_8valueconversion.md\":\"86b0b8db\",\"index.md\":\"ed9d7d5e\",\"代码质量_3_1debug.md\":\"41b1de4d\",\"代码质量_3_2codestyle.md\":\"9fcf55fe\",\"代码质量_3_3annotation.md\":\"afc070d0\",\"代码质量_3_4ninjacode.md\":\"ef93a60a\",\"代码质量_3_5mocha.md\":\"baddb0bf\",\"代码质量_3_6polyfill.md\":\"d48a966c\",\"函数进阶内容_6_1recursion.md\":\"e18df78f\",\"函数进阶内容_6_2rest.md\":\"b6bebb99\",\"函数进阶内容_6_3closure.md\":\"320d429b\",\"函数进阶内容_6_4var.md\":\"8d63df0c\",\"函数进阶内容_6_5globalobject.md\":\"f93225ac\",\"函数进阶内容_6_6funcobj.md\":\"e6c5eada\",\"数据类型_5_10destructuring.md\":\"794dbbc7\",\"数据类型_5_11date.md\":\"6acda7dd\",\"数据类型_5_12json.md\":\"67d945d4\",\"数据类型_5_1primitivetypemethods.md\":\"5ac2b7bd\",\"数据类型_5_2numbertype.md\":\"984d8fb9\",\"数据类型_5_3string.md\":\"67e3b728\",\"数据类型_5_4array.md\":\"4ec182fe\",\"数据类型_5_5arraymethod.md\":\"0d53731c\",\"数据类型_5_6iterableobject.md\":\"0ac0605f\",\"数据类型_5_7mapset.md\":\"2a1178bb\",\"数据类型_5_8weakmapweakset.md\":\"b22a7b4c\",\"数据类型_5_9objectkeys.md\":\"d10372d7\"}")</script>
    <script type="module" async src="/my-note/assets/app.ef4c7506.js"></script>
    
  </body>
</html>