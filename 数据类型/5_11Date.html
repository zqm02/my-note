<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>日期和时间 | 我的笔记</title>
    <meta name="description" content="A VitePress site">
    <link rel="stylesheet" href="/my-note/assets/style.7f4671e1.css">
    <link rel="modulepreload" href="/my-note/assets/app.66f67362.js">
    <link rel="modulepreload" href="/my-note/assets/数据类型_5_11Date.md.64548da7.lean.js">
    
    <meta name="keywords" content="我的笔记 一起学习 面试 面试经历 面经 ">
  <meta name="description" content="此文档主要用于记录个人学习笔记">
  <script>(()=>{const e=localStorage.getItem("vitepress-theme-appearance"),a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-6b5fd0a9><!--[--><!--]--><!--[--><span tabindex="-1" data-v-45f6ae50></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-45f6ae50> Skip to content </a><!--]--><!----><header class="VPNav" data-v-6b5fd0a9 data-v-0e356168><div class="VPNavBar has-sidebar" data-v-0e356168 data-v-8856f192><div class="container" data-v-8856f192><div class="VPNavBarTitle has-sidebar" data-v-8856f192 data-v-6a6f7ff6><a class="title" href="/my-note/" data-v-6a6f7ff6><!----><!--[-->我的笔记<!--]--></a></div><div class="content" data-v-8856f192><!----><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-8856f192 data-v-a30758ee><span id="main-nav-aria-label" class="visually-hidden" data-v-a30758ee>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/my-note/JS简介/1_1introduction.html" data-v-a30758ee data-v-8fba5fa8 data-v-5704c677><!--[-->JS简介<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/my-note/JS基础知识/2_1HelloWorld.html" data-v-a30758ee data-v-8fba5fa8 data-v-5704c677><!--[-->JS基础知识<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/my-note/代码质量/3_1debug.html" data-v-a30758ee data-v-8fba5fa8 data-v-5704c677><!--[-->代码质量<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/my-note/Object基础知识/4_1Object.html" data-v-a30758ee data-v-8fba5fa8 data-v-5704c677><!--[-->Object基础知识<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink active" href="/my-note/数据类型/5_1PrimitivetypeMethods.html" data-v-a30758ee data-v-8fba5fa8 data-v-5704c677><!--[-->数据类型<!--]--><!----></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-8856f192 data-v-311055f2><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" data-v-311055f2 data-v-781f9d1b data-v-1dda4c9c><span class="check" data-v-1dda4c9c><span class="icon" data-v-1dda4c9c><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-781f9d1b><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-781f9d1b><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-8856f192 data-v-0562f5c0 data-v-8dccea88><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-8dccea88><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-8dccea88><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-8dccea88><div class="VPMenu" data-v-8dccea88 data-v-e73581a2><!----><!--[--><!--[--><!----><div class="group" data-v-0562f5c0><div class="item appearance" data-v-0562f5c0><p class="label" data-v-0562f5c0>Appearance</p><div class="appearance-action" data-v-0562f5c0><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" data-v-0562f5c0 data-v-781f9d1b data-v-1dda4c9c><span class="check" data-v-1dda4c9c><span class="icon" data-v-1dda4c9c><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-781f9d1b><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-781f9d1b><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><!----><!--]--><!--]--></div></div></div><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-8856f192 data-v-6f008456><span class="container" data-v-6f008456><span class="top" data-v-6f008456></span><span class="middle" data-v-6f008456></span><span class="bottom" data-v-6f008456></span></span></button></div></div></div><!----></header><div class="VPLocalNav" data-v-6b5fd0a9 data-v-92b0f14a><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-92b0f14a><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-92b0f14a><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-92b0f14a>Menu</span></button><a class="top-link" href="#" data-v-92b0f14a> Return to top </a></div><aside class="VPSidebar" data-v-6b5fd0a9 data-v-55e4c7db><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-55e4c7db><span class="visually-hidden" id="sidebar-aria-label" data-v-55e4c7db> Sidebar Navigation </span><!--[--><div class="group" data-v-55e4c7db><section class="VPSidebarGroup collapsible" data-v-55e4c7db data-v-1f69a7ed><div class="title" role="button" data-v-1f69a7ed><h2 class="title-text" data-v-1f69a7ed>JS简介</h2><div class="action" data-v-1f69a7ed><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-1f69a7ed><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-1f69a7ed><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-1f69a7ed><!--[--><a class="VPLink link" href="/my-note/JS%E7%AE%80%E4%BB%8B/1_1introduction.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>1.1JS简介</span><!--]--><!----></a><a class="VPLink link" href="/my-note/JS%E7%AE%80%E4%BB%8B/1_2standard.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>1.2JS手册与规范</span><!--]--><!----></a><a class="VPLink link" href="/my-note/JS%E7%AE%80%E4%BB%8B/1_3code-editor.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>1.3编辑器</span><!--]--><!----></a><a class="VPLink link" href="/my-note/JS%E7%AE%80%E4%BB%8B/1_4console.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>1.4开发者控制台</span><!--]--><!----></a><!--]--></div></section></div><div class="group" data-v-55e4c7db><section class="VPSidebarGroup collapsible" data-v-55e4c7db data-v-1f69a7ed><div class="title" role="button" data-v-1f69a7ed><h2 class="title-text" data-v-1f69a7ed>JS基础知识</h2><div class="action" data-v-1f69a7ed><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-1f69a7ed><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-1f69a7ed><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-1f69a7ed><!--[--><a class="VPLink link" href="/my-note/JS%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/2_1HelloWorld.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>2.1Hello,World!</span><!--]--><!----></a><a class="VPLink link" href="/my-note/JS%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/2_2code-structure.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>2.2代码结构</span><!--]--><!----></a><a class="VPLink link" href="/my-note/JS%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/2_3use-strict.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>2.3现代模式，&#39;use strict&#39;</span><!--]--><!----></a><a class="VPLink link" href="/my-note/JS%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/2_4variate.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>2.4变量</span><!--]--><!----></a><a class="VPLink link" href="/my-note/JS%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/2_5DataType.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>2.5数据类型</span><!--]--><!----></a><a class="VPLink link" href="/my-note/JS%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/2_6interact.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>2.6交互</span><!--]--><!----></a><a class="VPLink link" href="/my-note/JS%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/2_7TypeCast.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>2.7类型转换</span><!--]--><!----></a><a class="VPLink link" href="/my-note/JS%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/2_8BaseOperator.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>2.8基础运算符</span><!--]--><!----></a><a class="VPLink link" href="/my-note/JS%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/2_9ValueComparison.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>2.9值的比较</span><!--]--><!----></a><a class="VPLink link" href="/my-note/JS%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/2_10ConditionalBranch.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>2.10条件分支</span><!--]--><!----></a><a class="VPLink link" href="/my-note/JS%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/2_11LogicalOperator.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>2.11逻辑运算符</span><!--]--><!----></a><a class="VPLink link" href="/my-note/JS%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/2_12NullishCoalescing.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>2.12空值合并运算符</span><!--]--><!----></a><a class="VPLink link" href="/my-note/JS%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/2_13circulation.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>2.13循环</span><!--]--><!----></a><a class="VPLink link" href="/my-note/JS%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/2_14switch.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>2.14switch语句</span><!--]--><!----></a><a class="VPLink link" href="/my-note/JS%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/2_15function.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>2.15函数</span><!--]--><!----></a><a class="VPLink link" href="/my-note/JS%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/2_16FunctionExpression.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>2.16函数表达式</span><!--]--><!----></a><a class="VPLink link" href="/my-note/JS%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/2_17ArrowFunction.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>2.17箭头函数</span><!--]--><!----></a><a class="VPLink link" href="/my-note/JS%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/2_18JSspeciality.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>2.18JavaScript特性</span><!--]--><!----></a><!--]--></div></section></div><div class="group" data-v-55e4c7db><section class="VPSidebarGroup collapsible" data-v-55e4c7db data-v-1f69a7ed><div class="title" role="button" data-v-1f69a7ed><h2 class="title-text" data-v-1f69a7ed>代码质量</h2><div class="action" data-v-1f69a7ed><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-1f69a7ed><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-1f69a7ed><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-1f69a7ed><!--[--><a class="VPLink link" href="/my-note/%E4%BB%A3%E7%A0%81%E8%B4%A8%E9%87%8F/3_1debug.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>3.1在浏览器中调试</span><!--]--><!----></a><a class="VPLink link" href="/my-note/%E4%BB%A3%E7%A0%81%E8%B4%A8%E9%87%8F/3_2CodeStyle.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>3.2代码风格</span><!--]--><!----></a><a class="VPLink link" href="/my-note/%E4%BB%A3%E7%A0%81%E8%B4%A8%E9%87%8F/3_3annotation.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>3.3注释</span><!--]--><!----></a><a class="VPLink link" href="/my-note/%E4%BB%A3%E7%A0%81%E8%B4%A8%E9%87%8F/3_4NinjaCode.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>3.4忍者代码</span><!--]--><!----></a><a class="VPLink link" href="/my-note/%E4%BB%A3%E7%A0%81%E8%B4%A8%E9%87%8F/3_5Mocha.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>3.5使用Mocha自动化测试</span><!--]--><!----></a><a class="VPLink link" href="/my-note/%E4%BB%A3%E7%A0%81%E8%B4%A8%E9%87%8F/3_6Polyfill.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>3.6 Polyfill和转译器</span><!--]--><!----></a><!--]--></div></section></div><div class="group" data-v-55e4c7db><section class="VPSidebarGroup collapsible" data-v-55e4c7db data-v-1f69a7ed><div class="title" role="button" data-v-1f69a7ed><h2 class="title-text" data-v-1f69a7ed>Object基础知识</h2><div class="action" data-v-1f69a7ed><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-1f69a7ed><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-1f69a7ed><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-1f69a7ed><!--[--><a class="VPLink link" href="/my-note/Object%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/4_1Object.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>4.1对象</span><!--]--><!----></a><a class="VPLink link" href="/my-note/Object%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/4_2copy.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>4.2对象引用和复制</span><!--]--><!----></a><a class="VPLink link" href="/my-note/Object%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/4_3recycle.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>4.3垃圾回收</span><!--]--><!----></a><a class="VPLink link" href="/my-note/Object%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/4_4method.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>4.4对象方法,“this”</span><!--]--><!----></a><a class="VPLink link" href="/my-note/Object%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/4_5constructor.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>4.5构造器和操作符</span><!--]--><!----></a><a class="VPLink link" href="/my-note/Object%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/4_6OptionalChain.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>4.6可选链</span><!--]--><!----></a><a class="VPLink link" href="/my-note/Object%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/4_7symbol.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>4.7symbol类型</span><!--]--><!----></a><a class="VPLink link" href="/my-note/Object%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/4_8valueConversion.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>4.8对象--原始值转换</span><!--]--><!----></a><!--]--></div></section></div><div class="group" data-v-55e4c7db><section class="VPSidebarGroup collapsible" data-v-55e4c7db data-v-1f69a7ed><div class="title" role="button" data-v-1f69a7ed><h2 class="title-text" data-v-1f69a7ed>数据类型</h2><div class="action" data-v-1f69a7ed><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-1f69a7ed><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-1f69a7ed><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-1f69a7ed><!--[--><a class="VPLink link" href="/my-note/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/5_1PrimitivetypeMethods.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>5.1原始类型的方法</span><!--]--><!----></a><a class="VPLink link" href="/my-note/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/5_2NumberType.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>5.2数字类型</span><!--]--><!----></a><a class="VPLink link" href="/my-note/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/5_3String.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>5.3字符串</span><!--]--><!----></a><a class="VPLink link" href="/my-note/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/5_4Array.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>5.4数组</span><!--]--><!----></a><a class="VPLink link" href="/my-note/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/5_5ArrayMethod.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>5.5数组方法</span><!--]--><!----></a><a class="VPLink link" href="/my-note/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/5_6IterableObject.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>5.6Iterable object(可迭代对象)</span><!--]--><!----></a><a class="VPLink link" href="/my-note/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/5_7MapSet.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>5.7Map and Set(映射和集合)</span><!--]--><!----></a><a class="VPLink link" href="/my-note/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/5_8WeakMapWeakSet.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>5.8WeakMap and WeakSet</span><!--]--><!----></a><a class="VPLink link" href="/my-note/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/5_9Objectkeys.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>5.9Object.keys,values,entries</span><!--]--><!----></a><a class="VPLink link" href="/my-note/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/5_10Destructuring.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>5.10解构赋值</span><!--]--><!----></a><a class="VPLink link active" href="/my-note/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/5_11Date.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>5.11日期和时间</span><!--]--><!----></a><a class="VPLink link" href="/my-note/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/5_12JSON.html" data-v-1f69a7ed data-v-f53f775e data-v-5704c677><!--[--><span class="link-text" data-v-f53f775e>5.12JSON方法,toJSON</span><!--]--><!----></a><!--]--></div></section></div><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-6b5fd0a9 data-v-a4c57a06><div class="VPDoc has-sidebar" data-v-a4c57a06 data-v-79ca2460><div class="container" data-v-79ca2460><div class="aside" data-v-79ca2460><div class="aside-curtain" data-v-79ca2460></div><div class="aside-container" data-v-79ca2460><div class="aside-content" data-v-79ca2460><div class="VPDocAside" data-v-79ca2460 data-v-779d834d><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline has-outline" data-v-779d834d data-v-51e5a8ce><div class="content" data-v-51e5a8ce><div class="outline-marker" data-v-51e5a8ce></div><div class="outline-title" data-v-51e5a8ce>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-51e5a8ce><span class="visually-hidden" id="doc-outline-aria-label" data-v-51e5a8ce> Table of Contents for current page </span><ul class="root" data-v-51e5a8ce><!--[--><li style="" data-v-51e5a8ce><a class="outline-link" href="#创建" data-v-51e5a8ce>创建</a><!----></li><li style="" data-v-51e5a8ce><a class="outline-link" href="#访问日期组件" data-v-51e5a8ce>访问日期组件</a><!----></li><li style="" data-v-51e5a8ce><a class="outline-link" href="#设置日期组件" data-v-51e5a8ce>设置日期组件</a><!----></li><li style="" data-v-51e5a8ce><a class="outline-link" href="#自动校准-autocorrection" data-v-51e5a8ce>自动校准 (Autocorrection)</a><!----></li><li style="" data-v-51e5a8ce><a class="outline-link" href="#日期转化为数字，日期差值" data-v-51e5a8ce>日期转化为数字，日期差值</a><!----></li><li style="" data-v-51e5a8ce><a class="outline-link" href="#date-now" data-v-51e5a8ce>Date.now()</a><!----></li><li style="" data-v-51e5a8ce><a class="outline-link" href="#基准测试-benchmarking" data-v-51e5a8ce>基准测试(Benchmarking)</a><!----></li><li style="" data-v-51e5a8ce><a class="outline-link" href="#对字符串调用-date-parse" data-v-51e5a8ce>对字符串调用 Date.parse</a><!----></li><li style="" data-v-51e5a8ce><a class="outline-link" href="#总结" data-v-51e5a8ce>总结</a><!----></li><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-779d834d></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-79ca2460><div class="content-container" data-v-79ca2460><!--[--><!--]--><main class="main" data-v-79ca2460><div style="position:relative;" class="vp-doc _my-note_%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B_5_11Date" data-v-79ca2460><div><h1 id="日期和时间" tabindex="-1">日期和时间 <a class="header-anchor" href="#日期和时间" aria-hidden="true">#</a></h1><p>让我们来学习一个新的内建对象:<a href="https://developer.mozilla.org/zh/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank" rel="noopener noreferrer">日期（Date）</a>。该对象存储日期和时间，并提供了日期/时间的管理方法。</p><p>我们可以使用它来存储创建/修改时间，测量时间，或者仅用来打印当前时间。</p><h2 id="创建" tabindex="-1">创建 <a class="header-anchor" href="#创建" aria-hidden="true">#</a></h2><p>调用<code>new Date()</code>来创建一个新的<code>Date</code>对象。在调用时可以带有一些参数，如下所示：</p><p><code>new Date()</code></p><p>不带参数--创建一个表示当前日期和时间的<code>Date</code>对象:</p><div class="language-js line-numbers-mode"><span class="copy"></span><pre><code><span class="line"><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">now</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">new</span><span style="color:#393A34;"> </span><span style="color:#B58451;">Date</span><span style="color:#8E8F8B;">();</span></span>
<span class="line"><span style="color:#6C7834;">alert</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">now</span><span style="color:#8E8F8B;">);</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// 显示当前的日期/时间</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><code>new Date(milliseconds)</code></p><p>创建一个<code>Date</code>对象，其时间等于 1970 年 1 月 1 日 UTC+0 之后经过的毫秒数（1/1000 秒）。</p><div class="language-js line-numbers-mode"><span class="copy"></span><pre><code><span class="line"><span style="color:#A0ADA0;">// 0 表示 01.01.1970 UTF+0</span></span>
<span class="line"><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">Jan01_1970</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">new</span><span style="color:#393A34;"> </span><span style="color:#B58451;">Date</span><span style="color:#8E8F8B;">(</span><span style="color:#296AA3;">0</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#6C7834;">alert</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">Jan01_1970</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0ADA0;">// 现在增加 24小时 ，得到02.01.1970 UTF+0</span></span>
<span class="line"><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">Jan02_1970</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">new</span><span style="color:#393A34;"> </span><span style="color:#B58451;">Date</span><span style="color:#8E8F8B;">(</span><span style="color:#296AA3;">24</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">*</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">3600</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">*</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">1000</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#6C7834;">alert</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">Jan02_1970</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>传入的整数参数代表的是自 1970-01-01 00:00:00 以来经过的毫秒数，该整数被称为<strong>时间戳</strong></p><p>这是一种日期的轻量级数字表示形式。我们通常使用<code>new Date(timestamp)</code>通过时间戳来创建日期，并可以使用<code>data.getTime()</code>将现有的<code>Date</code>对象转化为时间戳(下文会讲到)。</p><p>在 01.01.1970 之前的日期带有负的时间戳，例如:</p><div class="language-js line-numbers-mode"><span class="copy"></span><pre><code><span class="line"><span style="color:#A0ADA0;">// 31 Dec 1969</span></span>
<span class="line"><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">Dec31_1969</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">new</span><span style="color:#393A34;"> </span><span style="color:#B58451;">Date</span><span style="color:#8E8F8B;">(</span><span style="color:#AB5959;">-</span><span style="color:#296AA3;">24</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">*</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">3600</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">*</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">1000</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#6C7834;">alert</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">Dec31_1969</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><code>new Date(datestring)</code> 如果只有一个参数，并且是字符串，那么它会被自动解析。该算法与<code>Date.parse</code>所使用的算法相同，将在下文进行介绍。</p><div class="language-js line-numbers-mode"><span class="copy"></span><pre><code><span class="line"><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">date</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">new</span><span style="color:#393A34;"> </span><span style="color:#B58451;">Date</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;2017-01-26&quot;</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#6C7834;">alert</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">date</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#A0ADA0;">// 未指定具体时间，所以假定时间为格林尼治标准时间(GMT)的午夜零点</span></span>
<span class="line"><span style="color:#A0ADA0;">// 并根据运行代码时的用户的时区进行调整</span></span>
<span class="line"><span style="color:#A0ADA0;">// 因此，结果可能是</span></span>
<span class="line"><span style="color:#A0ADA0;">// Thu Jan 26 2017 11:00:00 GMT + 1100 (Sustralian Eastern Daylight Time)</span></span>
<span class="line"><span style="color:#A0ADA0;">// 或</span></span>
<span class="line"><span style="color:#A0ADA0;">// Wed Jan 25 2017 16:00:00 GMT - 0800 (Pacific Standard Time)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><code>new Date(year,month,date,hours,minutes,seconds,ms)</code></p><p>使用当前时区中给定组件创建日期。只有前两个参数是必须的。</p><ul><li><code>year</code>应该是四位数。为了兼容性，也接受 2 位数，并将其视为<code>19xx</code>，例如<code>98</code>与<code>1998</code>相同，但强烈建议始终使用 4 位数。</li><li><code>month</code>计算从<code>0</code>（一月）开始，到<code>11</code>（十二月）结束。</li><li><code>date</code>是当月的具体某一天，如果缺失，则为默认值<code>1</code>。</li><li>如果<code>hours/minutes/seconds/ms</code>缺失，则均为默认值<code>0</code>。</li></ul><p>例如:</p><div class="language-js line-numbers-mode"><span class="copy"></span><pre><code><span class="line"><span style="color:#AB5959;">new</span><span style="color:#393A34;"> </span><span style="color:#B58451;">Date</span><span style="color:#8E8F8B;">(</span><span style="color:#296AA3;">2011</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">0</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">1</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">0</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">0</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">0</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">0</span><span style="color:#8E8F8B;">);</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// 1 Jan 2011, 00:00:00</span></span>
<span class="line"><span style="color:#AB5959;">new</span><span style="color:#393A34;"> </span><span style="color:#B58451;">Date</span><span style="color:#8E8F8B;">(</span><span style="color:#296AA3;">2011</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">0</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">1</span><span style="color:#8E8F8B;">);</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// 同样，时分秒等均为默认值 0</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>时间度量最大精确到 1 毫秒（1/1000 秒）:</p><div class="language-js line-numbers-mode"><span class="copy"></span><pre><code><span class="line"><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">date</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">new</span><span style="color:#393A34;"> </span><span style="color:#B58451;">Date</span><span style="color:#8E8F8B;">(</span><span style="color:#296AA3;">2011</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">0</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">1</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">2</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">3</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">4</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">567</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#6C7834;">alert</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">date</span><span style="color:#8E8F8B;">);</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// 1.01.2011, 02:03:04.567</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="访问日期组件" tabindex="-1">访问日期组件 <a class="header-anchor" href="#访问日期组件" aria-hidden="true">#</a></h2><p>从<code>Date</code>对象中访问年，月等信息有多种方式: <a href="https://developer.mozilla.org/zh/docs/Web/JavaScript/Reference/Global_Objects/Date/getFullYear" target="_blank" rel="noopener noreferrer">getFullYear()</a> 获取年份（4 位数）</p><p><a href="https://developer.mozilla.org/zh/docs/Web/JavaScript/Reference/Global_Objects/Date/getMonth" target="_blank" rel="noopener noreferrer">getMonth()</a> 获取月份，<strong>从 0 到 11</strong></p><p><a href="https://developer.mozilla.org/zh/docs/Web/JavaScript/Reference/Global_Objects/Date/getDate" target="_blank" rel="noopener noreferrer">getDate()</a> 获取当月的具体日期，从 1 到 31，这个方法名称可能看起来有些令人疑惑。</p><p><a href="https://developer.mozilla.org/zh/docs/Web/JavaScript/Reference/Global_Objects/Date/getHours" target="_blank" rel="noopener noreferrer">getHours()</a>,<a href="https://developer.mozilla.org/zh/docs/Web/JavaScript/Reference/Global_Objects/Date/getMinutes" target="_blank" rel="noopener noreferrer">getMinutes()</a>,<a href="https://developer.mozilla.org/zh/docs/Web/JavaScript/Reference/Global_Objects/Date/getSeconds" target="_blank" rel="noopener noreferrer">getSeconds()</a>,<a href="https://developer.mozilla.org/zh/docs/Web/JavaScript/Reference/Global_Objects/Date/getMilliseconds" target="_blank" rel="noopener noreferrer">getMilliseconds()</a> 获取相应的时间组件。</p><blockquote><p><strong>不是<code>getYear()</code>,而是<code>getFullYear()</code></strong> 很多 JavaScript 引擎都实现了一个非标准化的方法<code>getYear()</code>。不推荐使用这个方法。它有时候可能会返回 2 位的年份信息。永远不要使用它。要获取年份就使用<code>getFullYear()</code>。</p></blockquote><p>另外，我们还可以获取一周中的第几天:</p><p><a href="https://developer.mozilla.org/zh/docs/Web/JavaScript/Reference/Global_Objects/Date/getDay" target="_blank" rel="noopener noreferrer">getDay()</a> 获取一周中的第几天，从<code>0</code>（星期日）到<code>6</code>（星期六）。第一天始终是星期日，在某些国家可能不是这样的习惯，但是这不能被改变。</p><p><strong>以上的所有方法返回的组件都是基于当地时区的</strong></p><p>当然，也有与当地时区的 UTF 对应项，它们会返回基于 UTF+0 时区的日，月，年等:<a href="https://developer.mozilla.org/zh/docs/Web/JavaScript/Reference/Global_Objects/Date/getUTCFullYear" target="_blank" rel="noopener noreferrer">getFullYear()</a>, <a href="https://developer.mozilla.org/zh/docs/Web/JavaScript/Reference/Global_Objects/Date/getUTCMonth" target="_blank" rel="noopener noreferrer">getUTCMonth()</a>, <a href="https://developer.mozilla.org/zh/docs/Web/JavaScript/Reference/Global_Objects/Date/getUTCDay" target="_blank" rel="noopener noreferrer">getUTCDay()</a>。只需要在<code>&quot;get&quot;</code>之后插入<code>&quot;UTF&quot;</code>即可。</p><p>如果你当地时区相对于 UTC 有偏移，那么下面代码会显示不同的小时数:</p><div class="language-js line-numbers-mode"><span class="copy"></span><pre><code><span class="line"><span style="color:#A0ADA0;">// 当前日期</span></span>
<span class="line"><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">Date</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">new</span><span style="color:#393A34;"> </span><span style="color:#B58451;">Date</span><span style="color:#8E8F8B;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0ADA0;">// 当前时区的小时数</span></span>
<span class="line"><span style="color:#6C7834;">alert</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">date</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">getHours</span><span style="color:#8E8F8B;">());</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0ADA0;">// 在 UTC+0 时区的小时数 （非夏令时的伦敦时间）</span></span>
<span class="line"><span style="color:#6C7834;">alert</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">date</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">getUTChHours</span><span style="color:#8E8F8B;">());</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>除了上述给定的方法，还有两个没有 UTC 变体的特殊方法: <a href="https://developer.mozilla.org/zh/docs/Web/JavaScript/Reference/Global_Objects/Date/getTime" target="_blank" rel="noopener noreferrer">getTime()</a> 返回日期的时间戳--从 1970-1-1 00:00:00 UTC+0 开始到现在所经过的毫秒数。</p><p><a href="https://developer.mozilla.org/zh/docs/Web/JavaScript/Reference/Global_Objects/Date/getTimezoneOffset" target="_blank" rel="noopener noreferrer">getTimezoneOffset()</a> 返回 UTC 与本地时区之间的时差，以分钟为单位:</p><div class="language-js line-numbers-mode"><span class="copy"></span><pre><code><span class="line"><span style="color:#A0ADA0;">// 如果你在时区 UTC-1, 输出 60</span></span>
<span class="line"><span style="color:#A0ADA0;">// 如果你在时区 UTC+3, 输出 -180</span></span>
<span class="line"><span style="color:#6C7834;">alert</span><span style="color:#8E8F8B;">(</span><span style="color:#AB5959;">new</span><span style="color:#393A34;"> </span><span style="color:#B58451;">Date</span><span style="color:#8E8F8B;">().</span><span style="color:#6C7834;">getTimezoneOffset</span><span style="color:#8E8F8B;">());</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="设置日期组件" tabindex="-1">设置日期组件 <a class="header-anchor" href="#设置日期组件" aria-hidden="true">#</a></h2><p>下列方法可以设置日期/时间组件:</p><ul><li><code>setFullYear(year,[month],[date])</code></li><li><code>setMonth(month,[date])</code></li><li><code>setDate(date)</code></li><li><code>setHours(hour,[min],[sec],[ms])</code></li><li><code>setMinutes(min,[sec],[ms])</code></li><li><code>setSeconds(sec,[ms])</code></li><li><code>setMilliseconds(ms)</code></li><li><code>setTime(milliseconds)</code>（使用自 1970-01-01 00:00:00 UTC+0 以来的毫秒数来设置整个日期）</li></ul><p>以上方法除了<code>setTime()</code>都有 UTC 变体，例如： <code>setUTCHours()</code></p><p>我们可以看到，有些方法可以一次性设置多个组件，比如 <code>setHours</code>。未提及的组件不会被修改。</p><p>举个例子:</p><div class="language-js line-numbers-mode"><span class="copy"></span><pre><code><span class="line"><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">today</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">new</span><span style="color:#393A34;"> </span><span style="color:#B58451;">Date</span><span style="color:#8E8F8B;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8C862B;">today</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">setHours</span><span style="color:#8E8F8B;">(</span><span style="color:#296AA3;">0</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#6C7834;">alert</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">today</span><span style="color:#8E8F8B;">);</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// 日期依然是今天，但是小时数被改为了 0</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8C862B;">today</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">setHours</span><span style="color:#8E8F8B;">(</span><span style="color:#296AA3;">0</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">0</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">0</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">0</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#6C7834;">alert</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">today</span><span style="color:#8E8F8B;">);</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// 日期依然是今天，时间为 00:00:00</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="自动校准-autocorrection" tabindex="-1">自动校准 (Autocorrection) <a class="header-anchor" href="#自动校准-autocorrection" aria-hidden="true">#</a></h2><p><strong>自动校准</strong>时<code>Date</code>对象的一个非常方便的特性。我们可以设置超范围的数值，它会自动校准。</p><p>举个例子:</p><div class="language-js line-numbers-mode"><span class="copy"></span><pre><code><span class="line"><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">date</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">new</span><span style="color:#393A34;"> </span><span style="color:#B58451;">Date</span><span style="color:#8E8F8B;">(</span><span style="color:#296AA3;">2013</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">0</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">32</span><span style="color:#8E8F8B;">);</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// 32 Jan 2013 ?!?</span></span>
<span class="line"><span style="color:#6C7834;">alert</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">date</span><span style="color:#8E8F8B;">);</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// ....是 1st Feb 2013!</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>超出范围的日期组件将会被自动分配。</p><p>假设我们要在日期&quot;28 Feb 2016&quot;上加上 2 天。结果可能是“2 Mar”或 “1 Mar”，因为存在闰年。但是我们不需要考虑这些，只需要直接加 2 天，剩下的<code>Date</code>对象会帮我们处理:</p><div class="language-js line-numbers-mode"><span class="copy"></span><pre><code><span class="line"><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">date</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">new</span><span style="color:#393A34;"> </span><span style="color:#B58451;">Date</span><span style="color:#8E8F8B;">(</span><span style="color:#296AA3;">2016</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">1</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">28</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#8C862B;">date</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">setDate</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">date</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">getDate</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">+</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">2</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6C7834;">alert</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">date</span><span style="color:#8E8F8B;">);</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// 1 Mar 2016</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>这个特性经常被用来获取给定时间段后的日期。例如，我们想获取“现在 70 秒后”的日期:</p><div class="language-js line-numbers-mode"><span class="copy"></span><pre><code><span class="line"><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">date</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">new</span><span style="color:#393A34;"> </span><span style="color:#B58451;">Date</span><span style="color:#8E8F8B;">();</span></span>
<span class="line"><span style="color:#8C862B;">date</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">setSeconds</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">date</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">getSeconds</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">+</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">70</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6C7834;">alert</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">date</span><span style="color:#8E8F8B;">);</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// 显示正确的日期信息</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>我们还可以设置 0 甚至设置负值。例如:</p><div class="language-js line-numbers-mode"><span class="copy"></span><pre><code><span class="line"><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">date</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">new</span><span style="color:#393A34;"> </span><span style="color:#B58451;">Date</span><span style="color:#8E8F8B;">(</span><span style="color:#296AA3;">2016</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">0</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">2</span><span style="color:#8E8F8B;">);</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// 2016</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8C862B;">date</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">setDate</span><span style="color:#8E8F8B;">(</span><span style="color:#296AA3;">1</span><span style="color:#8E8F8B;">);</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">//  设置为当月的第一天</span></span>
<span class="line"><span style="color:#6C7834;">alert</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">date</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8C862B;">date</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">setDate</span><span style="color:#8E8F8B;">(</span><span style="color:#296AA3;">0</span><span style="color:#8E8F8B;">);</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// 天数最小可以设置为 1， 所以这里设置的是上一月的最后一天</span></span>
<span class="line"><span style="color:#6C7834;">alert</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">date</span><span style="color:#8E8F8B;">);</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// 31 Dec 2015</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="日期转化为数字，日期差值" tabindex="-1">日期转化为数字，日期差值 <a class="header-anchor" href="#日期转化为数字，日期差值" aria-hidden="true">#</a></h2><p>当<code>Date</code>对象转化为数字时，得到的是对应的时间戳，与使用<code>date.getTime()</code>的结果相同:</p><div class="language-js line-numbers-mode"><span class="copy"></span><pre><code><span class="line"><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">date</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">new</span><span style="color:#393A34;"> </span><span style="color:#B58451;">Date</span><span style="color:#8E8F8B;">();</span></span>
<span class="line"><span style="color:#6C7834;">alert</span><span style="color:#8E8F8B;">(</span><span style="color:#AB5959;">+</span><span style="color:#8C862B;">date</span><span style="color:#8E8F8B;">);</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// 以毫秒为单位的数值，与使用 date.getTime() 的结果相同</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>有一个重要的副作用：日期可以相减，相减的结果是以毫秒为单位时间差。</p><p>这个作用可以用于时间测量：</p><div class="language-js line-numbers-mode"><span class="copy"></span><pre><code><span class="line"><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">start</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">new</span><span style="color:#393A34;"> </span><span style="color:#B58451;">Date</span><span style="color:#8E8F8B;">();</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// 开始测量时间</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0ADA0;">// do the job</span></span>
<span class="line"><span style="color:#1C6B48;">for</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">i</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">0</span><span style="color:#8E8F8B;">;</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">i</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">&lt;</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">100000</span><span style="color:#8E8F8B;">;</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">i</span><span style="color:#AB5959;">++</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">doSomething</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">i</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">*</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">i</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">*</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">i</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">end</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">new</span><span style="color:#393A34;"> </span><span style="color:#B58451;">Date</span><span style="color:#8E8F8B;">();</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// 结束测量时间</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6C7834;">alert</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">`The loop took </span><span style="color:#8E8F8B;">${</span><span style="color:#B56959;">end </span><span style="color:#AB5959;">-</span><span style="color:#B56959;"> start</span><span style="color:#8E8F8B;">}</span><span style="color:#B56959;"> ms`</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="date-now" tabindex="-1">Date.now() <a class="header-anchor" href="#date-now" aria-hidden="true">#</a></h2><p>如果我们仅仅想要测量时间间隔，我们不需要<code>Date</code>对象。</p><p>有一个特殊的方法<code>Date.now()</code>，它会返回当前的时间戳。</p><p>它相当于<code>new Date().getTime()</code>，但它不会创建中间的<code>Date</code>对象。因此它更快，而且不会对垃圾回收造成额外的压力。</p><p>这种方法很多时候因为方便，又或是因性能方面的考虑而被采用，例如使用 JavaScript 编写游戏或其他的特殊应用场景。</p><p>因此这样做可能会更好:</p><div class="language-js line-numbers-mode"><span class="copy"></span><pre><code><span class="line"><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">start</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#B58451;">Date</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">now</span><span style="color:#8E8F8B;">();</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// 从 1 Jan 1970 至今的时间戳</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0ADA0;">// do the job</span></span>
<span class="line"><span style="color:#1C6B48;">for</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">i</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">0</span><span style="color:#8E8F8B;">;</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">i</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">&lt;</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">100000</span><span style="color:#8E8F8B;">;</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">i</span><span style="color:#AB5959;">++</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">doSomething</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">i</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">*</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">i</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">*</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">i</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">end</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#B58451;">Date</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">now</span><span style="color:#8E8F8B;">();</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// 完成</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6C7834;">alert</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">`The loop took </span><span style="color:#8E8F8B;">${</span><span style="color:#B56959;">end </span><span style="color:#AB5959;">-</span><span style="color:#B56959;"> start</span><span style="color:#8E8F8B;">}</span><span style="color:#B56959;"> ms`</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="基准测试-benchmarking" tabindex="-1">基准测试(Benchmarking) <a class="header-anchor" href="#基准测试-benchmarking" aria-hidden="true">#</a></h2><p>在对一个很耗 CPU 性能的函数进行可靠的基准测试 (Benchmarking)时，我们需要谨慎一点。</p><p>例如，我们想判断以下两个计算日期差值的函数:哪个更快？</p><p>这种性能测量通常称为“基准测试（Benchmark）”。</p><div class="language-js line-numbers-mode"><span class="copy"></span><pre><code><span class="line"><span style="color:#A0ADA0;">// 我们有 date1 和 date2 ， 哪个函数会更快地返回两者的时间差？</span></span>
<span class="line"><span style="color:#AB5959;">function</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">diffSubtract</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">date1</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">date2</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#1C6B48;">return</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">date2</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">-</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">date1</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#A0ADA0;">// or</span></span>
<span class="line"><span style="color:#AB5959;">function</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">diffGetTime</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">date1</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">date2</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#1C6B48;">return</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">date2</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">getTime</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">-</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">date1</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">getTime</span><span style="color:#8E8F8B;">();</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>这两个函数做的事情完全相同，但是其中一个函数使用显式地<code>date.getTime()</code>来获取毫秒形式地日期，另一个则依赖于“日期-数字”的转换。它们的结果是一样的。</p><p>那么，哪个更快呢？</p><p>首先想到的方法可能是连续运行两者很多次，并计算所消耗的时间之差。就这个例子而言，函数过于简单，所以我们必须执行至少 100000 次。</p><p>让我们开始测量:</p><div class="language-js line-numbers-mode"><span class="copy"></span><pre><code><span class="line"><span style="color:#AB5959;">function</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">diffSubtract</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">date1</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">date2</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#1C6B48;">return</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">date2</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">-</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">date1</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#AB5959;">function</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">diffGetTime</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">date1</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">date2</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#1C6B48;">return</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">date2</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">getTime</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">-</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">date1</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">getTime</span><span style="color:#8E8F8B;">();</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#AB5959;">function</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">bench</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">f</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">date1</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">new</span><span style="color:#393A34;"> </span><span style="color:#B58451;">Date</span><span style="color:#8E8F8B;">(</span><span style="color:#296AA3;">0</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">date2</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">new</span><span style="color:#393A34;"> </span><span style="color:#B58451;">Date</span><span style="color:#8E8F8B;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">start</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#B58451;">Date</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">now</span><span style="color:#8E8F8B;">();</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#1C6B48;">for</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">i</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">0</span><span style="color:#8E8F8B;">;</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">i</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">&lt;</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">100000</span><span style="color:#8E8F8B;">;</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">i</span><span style="color:#AB5959;">++</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">f</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">date1</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">date2</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6C7834;">alert</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;Time of diffSubtract:&quot;</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">+</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">bench</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">diffSubtract</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">+</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;ms&quot;</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#6C7834;">alert</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;Time of diffGetTime:&quot;</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">+</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">bench</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">diffGetTime</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">+</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;ms&quot;</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>看起来使用<code>getTime()</code>这种方式快得多，这是因为它没有进行类型转换，对引擎优化来说更加简单。</p><p>我们得到了结论，但是这并不是一个很好的度量的例子。</p><p>想象一下当运行<code>bench(diffSubtract)</code>的同时，CPU 还在并行处理其他事务，并且这也会占用资源。然而，运行<code>bench(diffGetTime)</code>的时候，并行处理的事务完成了。</p><p>对于现代多进程操作系统来说，这是一个非常非常常见的场景。</p><p>比起第二个函数，第一个函数所能使用的 CPU 资源更少。这可能导致错误的结论。</p><p><strong>为了得到更加可靠的度量，整个度量测试包应该重新运行多次。</strong></p><p>例如，像下面的代码这样；</p><div class="language-js line-numbers-mode"><span class="copy"></span><pre><code><span class="line"><span style="color:#AB5959;">function</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">diffSubtract</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">date1</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">date2</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#1C6B48;">return</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">date2</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">-</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">date1</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#AB5959;">function</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">diffGetTime</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">date1</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">date2</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#1C6B48;">return</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">date2</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">getTime</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">-</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">date1</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">getTime</span><span style="color:#8E8F8B;">();</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#AB5959;">function</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">bench</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">f</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">date1</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">new</span><span style="color:#393A34;"> </span><span style="color:#B58451;">Date</span><span style="color:#8E8F8B;">(</span><span style="color:#296AA3;">0</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">date2</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">new</span><span style="color:#393A34;"> </span><span style="color:#B58451;">Date</span><span style="color:#8E8F8B;">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">start</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#B58451;">Date</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">now</span><span style="color:#8E8F8B;">();</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#1C6B48;">for</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">i</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">0</span><span style="color:#8E8F8B;">;</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">i</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">&lt;</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">100000</span><span style="color:#8E8F8B;">;</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">i</span><span style="color:#AB5959;">++</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">f</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">date1</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">date2</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#1C6B48;">return</span><span style="color:#393A34;"> </span><span style="color:#B58451;">Date</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">now</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">-</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">start</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">time1</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">0</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">time2</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">0</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0ADA0;">// 交替运行 bench(diffSubtract) 和 bench(diffGetTime) 各 10 次</span></span>
<span class="line"><span style="color:#1C6B48;">for</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">i</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">0</span><span style="color:#8E8F8B;">;</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">i</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">&lt;</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">10</span><span style="color:#8E8F8B;">;</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">i</span><span style="color:#AB5959;">++</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8C862B;">time1</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">+=</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">bench</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">diffSubtract</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8C862B;">time2</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">+=</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">bench</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">diffGetTime</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6C7834;">alert</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;Time of diffSubtract:&quot;</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">+</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">time1</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#6C7834;">alert</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;Time of diffGetTime:&quot;</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">+</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">time2</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><p>现代的 JavaScript 引擎的先进优化策略只对执行很多次的&quot;hot code&quot;有效（对于执行很少次数的代码有必要优化）。因此，在上面的例子中，第一次执行的优化程度不高。我们可能需要增加一个预热步骤:</p><div class="language-js line-numbers-mode"><span class="copy"></span><pre><code><span class="line"><span style="color:#A0ADA0;">// 在主循环中增加预热环节</span></span>
<span class="line"><span style="color:#6C7834;">bench</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">diffSubtract</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#6C7834;">bench</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">diffGetTime</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0ADA0;">// 开始度量</span></span>
<span class="line"><span style="color:#1C6B48;">for</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">i</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">0</span><span style="color:#8E8F8B;">;</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">i</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">&lt;</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">10</span><span style="color:#8E8F8B;">;</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">i</span><span style="color:#AB5959;">++</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8C862B;">time1</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">+=</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">bench</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">diffSubtract</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8C862B;">time2</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">+=</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">bench</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">diffGetTime</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><blockquote><p><strong>进行微型基准测试时要小心</strong> 现代的 JavaScript 引擎执行了很多优化。与正常编写的代码相比，它们可能会改变“人为填写的专用于测试的代码”的执行流程，特别是在我们对很小的代码片段进行基准测试时，例如某个运算符或内建函数的工作方式。因此，为了深入理解性能问题，请学习 JavaScript 引擎的工作原理。在那之后，你或许再也不需要进行微型基准测试了。</p><p><a href="http://mrale.ph/" target="_blank" rel="noopener noreferrer">http://mrale.ph</a>提供了很多 V8 引擎相关的文章。</p></blockquote><h2 id="对字符串调用-date-parse" tabindex="-1">对字符串调用 Date.parse <a class="header-anchor" href="#对字符串调用-date-parse" aria-hidden="true">#</a></h2><p><a href="https://developer.mozilla.org/zh/docs/Web/JavaScript/Reference/Global_Objects/Date/parse" target="_blank" rel="noopener noreferrer">Date.parse(str)</a>方法可以从一个字符串读取日期。</p><p>字符串的格式应该为:<code>YYYY-MM-DDTHH:mm:ss.sssZ</code>,其中:</p><ul><li><code>YYYY-MM-DD</code>--日期:年-月-日</li><li>字符<code>&quot;T&quot;</code>是一个分隔符</li><li><code>HH:mm:ss.sss</code>--时间：小时，分钟，秒，毫秒</li><li>可选字符串<code>Z</code>为<code>+-hh:mm</code>格式的时区。单个字符<code>Z</code>代表 UTC+0 时区。</li></ul><p>简短形式也是可以的，比如<code>YYYY-MM-DD</code>或<code>YYYY-MM</code>,甚至可以是<code>YYYY</code>。</p><p><code>Date.parse(str)</code>调用会解析给定格式的字符串，并返回时间戳（自 1970-01-01 00:00:00 起所经过的毫秒数）。如果给定字符串的格式不正确，则返回<code>NaN</code>。</p><p>举个例子:</p><div class="language-js line-numbers-mode"><span class="copy"></span><pre><code><span class="line"><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">ms</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#B58451;">Date</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">parse</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;2012-01-26T13:51:50.417-07:00&quot;</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6C7834;">alert</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">ms</span><span style="color:#8E8F8B;">);</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">// 1327611110417 (时间戳)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>我们可以通过时间戳来立即创建一个<code>new Date</code>对象:</p><div class="language-js line-numbers-mode"><span class="copy"></span><pre><code><span class="line"><span style="color:#AB5959;">let</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">date</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">new</span><span style="color:#393A34;"> </span><span style="color:#B58451;">Date</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">date</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">parse</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;2012-01-26T13:51:50.417-07:00&quot;</span><span style="color:#8E8F8B;">));</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6C7834;">alert</span><span style="color:#8E8F8B;">(</span><span style="color:#8C862B;">date</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="总结" tabindex="-1">总结 <a class="header-anchor" href="#总结" aria-hidden="true">#</a></h2><ul><li>在 JavaScript 中，日期和时间使用<a href="https://developer.mozilla.org/zh/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank" rel="noopener noreferrer">Date</a>对象来表示。我们不能单独创建日期或时间，<code>Date</code>对象总是同时创建两者。</li><li>月份从 0 开始计数（对，一月是 0）</li><li>一周中的某一天<code>getDay()</code>同样从 0 开始计算（0 代表星期日）。</li><li>当设置了超出范围的组件时，<code>Date</code>会进行自动校准。这一点对于日/月/小时的加减很有用。</li><li>日期可以相减，得到的是以毫秒表示的两者差值。因为当<code>Date</code>被转换为数字时，<code>Date</code>对象会被转换为时间戳。</li><li>使用<code>Date.now()</code>可以更快地获取当前时间的时间戳。</li></ul><p>和其他系统不同，JavaScript 中时间戳以毫秒为单位，而不是秒。</p><p>有时我们需要更加精准的时间度量。JavaScript 自身没有测量微妙的方法（百万分之一秒），但大多数运行环境会提供。例如，浏览器有<a href="https://developer.mozilla.org/zh/docs/Web/API/Performance/now" target="_blank" rel="noopener noreferrer">performance.now()</a>方法来给出从页面加载开始的以毫秒为单位的微秒数（精确到毫秒的小数点后三位） :</p><div class="language-js line-numbers-mode"><span class="copy"></span><pre><code><span class="line"><span style="color:#6C7834;">alert</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">`Loading started </span><span style="color:#8E8F8B;">${</span><span style="color:#B56959;">performance</span><span style="color:#8E8F8B;">.</span><span style="color:#6C7834;">now</span><span style="color:#8E8F8B;">()</span><span style="color:#8E8F8B;">}</span><span style="color:#B56959;">ms ago`</span><span style="color:#8E8F8B;">);</span></span>
<span class="line"><span style="color:#A0ADA0;">// 类似于 &quot;Loading started 34731.26000000001ms ago&quot;</span></span>
<span class="line"><span style="color:#A0ADA0;">// .26 表示的是微妙（260微秒）</span></span>
<span class="line"><span style="color:#A0ADA0;">// 小数点后超过 3 位的数字是精度错误，只有前三位数字是正确的</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>Node.js 可以通过<code>microtime</code>模块或使用其他方法。从技术上讲，几乎所有的设备和环境都允许获取更高精度的时间数值，只不过不是使用<code>Date</code>对象。</p></div></div></main><footer class="VPDocFooter" data-v-79ca2460 data-v-04568844><div class="edit-info" data-v-04568844><!----><!----></div><div class="prev-next" data-v-04568844><div class="pager" data-v-04568844><a class="pager-link prev" href="/my-note/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/5_10Destructuring.html" data-v-04568844><span class="desc" data-v-04568844>Previous page</span><span class="title" data-v-04568844>5.10解构赋值</span></a></div><div class="has-prev pager" data-v-04568844><a class="pager-link next" href="/my-note/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/5_12JSON.html" data-v-04568844><span class="desc" data-v-04568844>Next page</span><span class="title" data-v-04568844>5.12JSON方法,toJSON</span></a></div></div></footer><!--[--><!--]--></div></div></div></div></div><footer class="VPFooter has-sidebar" data-v-6b5fd0a9 data-v-5b331722><div class="container" data-v-5b331722><p class="message" data-v-5b331722>Released under the MIT License.</p><p class="copyright" data-v-5b331722>Copyright © 2022-present zqm &amp; my-note Contributors</p></div></footer><!--[--><!--]--></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"js基础知识_2_10conditionalbranch.md\":\"c6d11d9f\",\"js基础知识_2_11logicaloperator.md\":\"04272e02\",\"js基础知识_2_12nullishcoalescing.md\":\"4f11e866\",\"js基础知识_2_13circulation.md\":\"cb97c7fc\",\"js基础知识_2_14switch.md\":\"c1060406\",\"js基础知识_2_15function.md\":\"dc06fc97\",\"js基础知识_2_16functionexpression.md\":\"07ea14f0\",\"js基础知识_2_17arrowfunction.md\":\"0983e1bd\",\"js基础知识_2_18jsspeciality.md\":\"c0d65a92\",\"js基础知识_2_1helloworld.md\":\"da1703cd\",\"js基础知识_2_2code-structure.md\":\"9e2b5e8e\",\"js基础知识_2_3use-strict.md\":\"78134aec\",\"js基础知识_2_4variate.md\":\"94bfe389\",\"js基础知识_2_5datatype.md\":\"568f48a0\",\"js基础知识_2_6interact.md\":\"9a7dc756\",\"js基础知识_2_7typecast.md\":\"33847c29\",\"js基础知识_2_8baseoperator.md\":\"c042fb0d\",\"js基础知识_2_9valuecomparison.md\":\"ead1e3e0\",\"js简介_1_1introduction.md\":\"8dc7edac\",\"js简介_1_2standard.md\":\"cf093f00\",\"js简介_1_3code-editor.md\":\"4961d8a2\",\"js简介_1_4console.md\":\"2fc73019\",\"object基础知识_4_1object.md\":\"6bc49e65\",\"object基础知识_4_2copy.md\":\"c56fafd8\",\"object基础知识_4_3recycle.md\":\"a2f9963a\",\"object基础知识_4_4method.md\":\"d2bf04d1\",\"object基础知识_4_5constructor.md\":\"64614f4c\",\"object基础知识_4_6optionalchain.md\":\"abbdc77c\",\"object基础知识_4_7symbol.md\":\"d4f3b21d\",\"object基础知识_4_8valueconversion.md\":\"7f7524b4\",\"index.md\":\"063cf173\",\"代码质量_3_1debug.md\":\"9e63eff4\",\"代码质量_3_2codestyle.md\":\"c52969c1\",\"代码质量_3_3annotation.md\":\"8c6c55ad\",\"代码质量_3_4ninjacode.md\":\"b27187a1\",\"代码质量_3_5mocha.md\":\"4e49c2ab\",\"代码质量_3_6polyfill.md\":\"e50c97a6\",\"数据类型_5_10destructuring.md\":\"408087fe\",\"数据类型_5_11date.md\":\"64548da7\",\"数据类型_5_12json.md\":\"8f43b693\",\"数据类型_5_1primitivetypemethods.md\":\"05cbc90a\",\"数据类型_5_2numbertype.md\":\"805ee1a5\",\"数据类型_5_3string.md\":\"5ef21bc6\",\"数据类型_5_4array.md\":\"8a62121f\",\"数据类型_5_5arraymethod.md\":\"b9c52ec1\",\"数据类型_5_6iterableobject.md\":\"6bb0fde8\",\"数据类型_5_7mapset.md\":\"ad542def\",\"数据类型_5_8weakmapweakset.md\":\"f736f30c\",\"数据类型_5_9objectkeys.md\":\"373045b4\"}")</script>
    <script type="module" async src="/my-note/assets/app.66f67362.js"></script>
    
  </body>
</html>