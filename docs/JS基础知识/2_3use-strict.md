# 现代模式， "use strict"

ES5 规范增加了新的语言特性并且修改了一些已经存在的特性。为了保证旧的功能能够使用，大部分的修改都是默认不生效的。你需要一个特殊的指令--`"use strict"`来明确地激活这些特性。

## "use strict"

这个指令看上去像一个字符串`"use strict"`后者`'use strict'`。当它处于脚本文件的顶部时，则整个脚本文件都将以"现代"模式进行工作。
比如:

```js
    "use strict";

    //代码以现代模式工作
    ...
```

`"use strict"`可以被放在函数体的开头。这样则可以只在该函数中启用严格模式。但通常人们会在整个脚本中启用严格模式。

> **确保"use strict"出现在最顶部**
> 请确保`"use strict"`出现在最顶部,否则严格模式可能无法启用。
> 这里的严格模式就没有启用：
>
> ```js
> alert("some code");
>
> //下面的"use strict"会被忽略，必须在最顶部。
>
> ("use strict");
>
> //严格模式没有被激活
> ```
>
> 只有注释可以出现在`"use strict"`上面。

> **没有办法取消`use strict`**
> 没有类似于`"no use strict"`这样的指令可以使程序返回默认模式。
> 一旦进入了严格模式，就没有回头路了。

## 浏览器控制台

当你使用[开发者控制台](https://zh.javascript.info/devtools)运行代码时，请注意它默认时不启动`"use strict"`的。
有时，当`"use strict"`会对代码产生一些影响时，你会得到错误的结果。
那么，怎么在控制台中启用`use strict`呢？
首先，你可以尝试搭配使用`Shift+Enter`按键去输入多行代码，然后将`use strict`放在代码最顶部，就像这样:

```js
    'use strict';<Shift+Enter 换行>
    //...你的代码
    <按下 Enter 以运行>
```

它在大部分浏览器中都有效，比如 Firefox 和 Chrome。
如果依然不行，例如你使用的时旧版本的浏览器，那么有一种很丑但可靠的启用`use strict`的方法。将你的代码放在这样的包装器中:

```js
(function () {
  "use strict";

  //...你的代码...
})();
```

## 我们应该使用"use strict"吗？

这个问题的答案好像显而易见，但事实并非如此。
有人可能会建议在脚本的最顶部放置`"use strict"`这行代码....但你知道更酷的方式吗？
现代 JavaScript 支持"class"和"module"--高级语言结构，它们会自动启用`use strict`。因此，如果我们使用它们，则无需添加`"use strict"`命令。
**因此，目前我们欢迎将`"use strict";`写在脚本的顶部。稍后，当你的代码全写在 class 和 module 中时，你则可以将`"use strict";`这行代码省略掉。**
