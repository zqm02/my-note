# 移动鼠标:mouseover/out,mouseenter/leave

我们将深入研究鼠标在元素之间移动时发生的事件。

## mouseover/mouseout，relatedTarget

当鼠标指针移动到某个元素上时，`mouseover`事件就会发生，而当鼠标离开该元素时，`mouseout`事件就会发生。

![pic](../.vitepress/dist/assets/移动鼠标1.png)

这些事件很特别，因为它们具有`relatedTarget`属性。此属性是对`target`的补充。当鼠标从一个元素离开并去往另一个元素时，其中一个元素就变成了`target`,另一个就变成了`relatedTarget`。

对于`mouseover`:

- `event.target`--是鼠标移过的那个元素。
- `event.ralatedTarget`--是鼠标来自的那个元素(`relatedTarget`->`target`)

`mouseout`则与之相反:

- `event.target`--是鼠标离开的元素。
- `event.relatedTarget`--是鼠标移动到的，当前指针位置下的元素(`target`->`relatedTarget`)。

> **`relatedTarget`可以为`null`** > `relatedTarget`属性可以为`null`。
>
> 这是正常现象，仅仅是意味着鼠标不是来自另一个元素，而是来自窗口之外。或者它离开了窗口。
>
> 当我们在代码中使用`event.relatedTarget`时，我们应该牢记这种可能性。如果我们
> 访问`event.relatedTarget.tagName`，那么就会出现错误。

## 跳过元素

当鼠标移动时，就会触发`mouseover`事件。但这并不意味着每个像素都会导致一个事件。

浏览器会一直检查鼠标的位置。如果发生了变化，就会触发事件。

这意味着，如果访问者非常快地移动鼠标，那么某些 DOM 元素可能被跳过:

![pic](../.vitepress/dist/assets/移动鼠标2.png)

如果鼠标从上面所示的`#FROM`快速移动到`#TO`元素，则中间的`<div>`(或其中的一些)元素可能会被跳过。
`mouseout`事件可能会在`#FROM`上被触发，然后立即在`#TO`上触发`mouseover`。

这对性能很有好处，因为可能有很多中间元素。我们并不真的想要处理每一个移入和离开地过程。

另一方面，我们应该记住，鼠标指针并不会"访问"所有元素。
它可以"跳过"一些元素。

特别是，鼠标指针可能会从窗口跳到页面的中间。在这种情况下，`relatedTarget`为`null`，因为它是从石头缝里蹦出来的(nowhere):

![pic](../.vitepress/dist/assets/移动鼠标3.png)

它的 HTML 有两个嵌套的元素:`<div id="child">`在`<div id="parent">`内部。如果将鼠标快速移动到它们上，则可能只有`<div id="child">`或者只有`<div id="parent">`触发事件，或者根本没有事件触发。

还可以将鼠标指针移动到`<div id="child">`中，然后将其快速向下移动过其父级元素。如果移动速度足够快，则父元素就会被忽略。鼠标会越过而不会引起其注意。

> **如果`mouseover`被触发了，则必须有`mouseout`**
> 在鼠标快速移动的情况下，中间元素可能会被忽略，但是我们可以肯定一件事:如果鼠标指针"正式地"进入了一个元素(生成了`mouseover`事件)，那么一旦它离开了，我们就会得到`mouseout`。

## 当移动到一个子元素时 mouseout

`mouseout`的一个重要功能--当鼠标指针从元素移动到其后代触发，例如下面的这个 HTML 中，从`#parent`到`#child`:

```html
<div id="parent">
  <div id="child">...</div>
</div>
```

如果我们在`#parent`上，然后将鼠标指针更深入地移入`#child`，在`#parent`上我们会得到`mouseout`!

![pic](../.vitepress/dist/assets/移动鼠标4.png)

你可以在下面这个示例中很清晰地看到这一点:`<div id="child">`位于`<div id="parent">`内部。
`#parent`元素上有`mouseover/out`的处理程序，这些处理程序用于输出事件详细信息。

如果你将鼠标从`#parent`移动到`#child`，那么
